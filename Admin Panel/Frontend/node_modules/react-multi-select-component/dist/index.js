"use strict";var Pe=Object.create;var B=Object.defineProperty;var Ne=Object.getOwnPropertyDescriptor;var Me=Object.getOwnPropertyNames;var De=Object.getPrototypeOf,Te=Object.prototype.hasOwnProperty;var Fe=(e,o)=>{for(var t in o)B(e,t,{get:o[t],enumerable:!0})},ce=(e,o,t,n)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of Me(o))!Te.call(e,s)&&s!==t&&B(e,s,{get:()=>o[s],enumerable:!(n=Ne(o,s))||n.enumerable});return e};var Le=(e,o,t)=>(t=e!=null?Pe(De(e)):{},ce(o||!e||!e.__esModule?B(t,"default",{value:e,enumerable:!0}):t,e)),Ke=e=>ce(B({},"__esModule",{value:!0}),e);var qe={};Fe(qe,{Dropdown:()=>z,MultiSelect:()=>Ce,SelectItem:()=>D,SelectPanel:()=>$});module.exports=Ke(qe);function te(e,{insertAt:o}={}){if(!e||typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",o==="top"&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}te(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline-offset:-1px;outline-color:var(--rmsc-primary)}.rmsc .select-item:hover{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0;font-size:1em}.rmsc .search input:focus{background:var(--rmsc-hover)}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var A=Le(require("react")),me=require("react/jsx-runtime"),We={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},_e={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},de=A.default.createContext({}),pe=({props:e,children:o})=>{let[t,n]=(0,A.useState)(e.options),s=c=>{var u;return((u=e.overrideStrings)==null?void 0:u[c])||We[c]};return(0,A.useEffect)(()=>{n(e.options)},[e.options]),(0,me.jsx)(de.Provider,{value:{t:s,..._e,...e,options:t,setOptions:n},children:o})},E=()=>A.default.useContext(de);var O=require("react");var U=require("react");function ue(e,o){let t=(0,U.useRef)(!1);(0,U.useEffect)(()=>{t.current?e():t.current=!0},o)}var w=require("react"),He={when:!0,eventTypes:["keydown"]};function P(e,o,t){let n=(0,w.useMemo)(()=>Array.isArray(e)?e:[e],[e]),s=Object.assign({},He,t),{when:c,eventTypes:u}=s,v=(0,w.useRef)(o),{target:a}=s;(0,w.useEffect)(()=>{v.current=o});let p=(0,w.useCallback)(i=>{n.some(l=>i.key===l||i.code===l)&&v.current(i)},[n]);(0,w.useEffect)(()=>{if(c&&typeof window<"u"){let i=a?a.current:window;return u.forEach(l=>{i&&i.addEventListener(l,p)}),()=>{u.forEach(l=>{i&&i.removeEventListener(l,p)})}}},[c,u,n,a,o])}var f={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"};var h=require("react");var fe=(e,o)=>{let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{e.apply(null,n)},o)}};function he(e,o){return o?e.filter(({label:t,value:n})=>t!=null&&n!=null&&t.toLowerCase().includes(o.toLowerCase())):e}var K=require("react/jsx-runtime"),V=()=>(0,K.jsxs)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray",children:[(0,K.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),(0,K.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]});var ge=require("react");var W=require("react/jsx-runtime"),Be=({checked:e,option:o,onClick:t,disabled:n})=>(0,W.jsxs)("div",{className:`item-renderer ${n?"disabled":""}`,children:[(0,W.jsx)("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:n}),(0,W.jsx)("span",{children:o.label})]}),be=Be;var oe=require("react/jsx-runtime"),Ue=({itemRenderer:e=be,option:o,checked:t,tabIndex:n,disabled:s,onSelectionChanged:c,onClick:u})=>{let v=(0,ge.useRef)(),a=l=>{p(),l.preventDefault()},p=()=>{s||c(!t)},i=l=>{p(),u(l)};return P([f.ENTER,f.SPACE],a,{target:v}),(0,oe.jsx)("label",{className:`select-item ${t?"selected":""}`,role:"option","aria-selected":t,tabIndex:n,ref:v,children:(0,oe.jsx)(e,{option:o,checked:t,onClick:i,disabled:s})})},D=Ue;var T=require("react/jsx-runtime"),Ve=({options:e,onClick:o,skipIndex:t})=>{let{disabled:n,value:s,onChange:c,ItemRenderer:u}=E(),v=(a,p)=>{n||c(p?[...s,a]:s.filter(i=>i.value!==a.value))};return(0,T.jsx)(T.Fragment,{children:e.map((a,p)=>{let i=p+t;return(0,T.jsx)("li",{children:(0,T.jsx)(D,{tabIndex:i,option:a,onSelectionChanged:l=>v(a,l),checked:!!s.find(l=>l.value===a.value),onClick:l=>o(l,i),itemRenderer:u,disabled:a.disabled||n})},(a==null?void 0:a.key)||p)})})},ve=Ve;var x=require("react/jsx-runtime");var $e=()=>{let{t:e,onChange:o,options:t,setOptions:n,value:s,filterOptions:c,ItemRenderer:u,disabled:v,disableSearch:a,hasSelectAll:p,ClearIcon:i,debounceDuration:l,isCreatable:G,onCreateOption:R}=E(),I=(0,h.useRef)(),S=(0,h.useRef)(),[m,_]=(0,h.useState)(""),[y,J]=(0,h.useState)(t),[C,H]=(0,h.useState)(""),[N,M]=(0,h.useState)(0),Q=(0,h.useCallback)(fe(r=>H(r),l),[]),F=(0,h.useMemo)(()=>{let r=0;return a||(r+=1),p&&(r+=1),r},[a,p]),X={label:e(m?"selectAllFiltered":"selectAll"),value:""},Z=r=>{let d=y.filter(k=>!k.disabled).map(k=>k.value);if(r){let Ae=[...s.map(ee=>ee.value),...d];return(c?y:t).filter(ee=>Ae.includes(ee.value))}return s.filter(k=>!d.includes(k.value))},j=r=>{let d=Z(r);o(d)},b=r=>{Q(r.target.value),_(r.target.value),M(0)},L=()=>{var r;H(""),_(""),(r=S==null?void 0:S.current)==null||r.focus()},se=r=>M(r),we=r=>{switch(r.code){case f.ARROW_UP:le(-1);break;case f.ARROW_DOWN:le(1);break;default:return}r.stopPropagation(),r.preventDefault()};P([f.ARROW_DOWN,f.ARROW_UP],we,{target:I});let Oe=()=>{M(0)},ae=async()=>{let r={label:m,value:m,__isNew__:!0};R&&(r=await R(m)),n([r,...t]),L(),o([...s,r])},Re=async()=>c?await c(t,C):he(t,C),le=r=>{let d=N+r;d=Math.max(0,d),d=Math.min(d,t.length+Math.max(F-1,0)),M(d)};(0,h.useEffect)(()=>{var r,d;(d=(r=I==null?void 0:I.current)==null?void 0:r.querySelector(`[tabIndex='${N}']`))==null||d.focus()},[N]);let[ke,Ee]=(0,h.useMemo)(()=>{let r=y.filter(d=>!d.disabled);return[r.every(d=>s.findIndex(k=>k.value===d.value)!==-1),r.length!==0]},[y,s]);(0,h.useEffect)(()=>{Re().then(J)},[C,t]);let ie=(0,h.useRef)();P([f.ENTER],ae,{target:ie});let Ie=G&&m&&!y.some(r=>(r==null?void 0:r.value)===m);return(0,x.jsxs)("div",{className:"select-panel",role:"listbox",ref:I,children:[!a&&(0,x.jsxs)("div",{className:"search",children:[(0,x.jsx)("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:b,onFocus:Oe,value:m,ref:S,tabIndex:0}),(0,x.jsx)("button",{type:"button",className:"search-clear-button",hidden:!m,onClick:L,"aria-label":e("clearSearch"),children:i||(0,x.jsx)(V,{})})]}),(0,x.jsxs)("ul",{className:"options",children:[p&&Ee&&(0,x.jsx)(D,{tabIndex:F===1?0:1,checked:ke,option:X,onSelectionChanged:j,onClick:()=>se(1),itemRenderer:u,disabled:v}),y.length?(0,x.jsx)(ve,{skipIndex:F,options:y,onClick:(r,d)=>se(d)}):Ie?(0,x.jsx)("li",{onClick:ae,className:"select-item creatable",tabIndex:1,ref:ie,children:`${e("create")} "${m}"`}):(0,x.jsx)("li",{className:"no-options",children:e("noOptions")})]})]})},$=$e;var re=require("react/jsx-runtime"),xe=({expanded:e})=>(0,re.jsx)("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray",children:(0,re.jsx)("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"})});var ne=require("react/jsx-runtime"),Se=()=>{let{t:e,value:o,options:t,valueRenderer:n}=E(),s=o.length===0,c=o.length===t.length,u=n&&n(o,t);return s?(0,ne.jsx)("span",{className:"gray",children:u||e("selectSomeItems")}):(0,ne.jsx)("span",{children:u||(c?e("allItemsAreSelected"):(()=>o.map(a=>a.label).join(", "))())})};var Y=require("react/jsx-runtime"),ye=({size:e=24})=>(0,Y.jsx)("span",{style:{width:e,marginRight:"0.2rem"},children:(0,Y.jsx)("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"},children:(0,Y.jsx)("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})})});var g=require("react/jsx-runtime"),Ye=()=>{let{t:e,onMenuToggle:o,ArrowRenderer:t,shouldToggleOnHover:n,isLoading:s,disabled:c,onChange:u,labelledBy:v,value:a,isOpen:p,defaultIsOpen:i,ClearSelectedIcon:l,closeOnChangedValue:G}=E();(0,O.useEffect)(()=>{G&&m(!1)},[a]);let[R,I]=(0,O.useState)(!0),[S,m]=(0,O.useState)(i),[_,y]=(0,O.useState)(!1),J=t||xe,C=(0,O.useRef)();ue(()=>{o&&o(S)},[S]),(0,O.useEffect)(()=>{i===void 0&&typeof p=="boolean"&&(I(!1),m(p))},[p]);let H=b=>{var L;["text","button"].includes(b.target.type)&&[f.SPACE,f.ENTER].includes(b.code)||(R&&(b.code===f.ESCAPE?(m(!1),(L=C==null?void 0:C.current)==null||L.focus()):m(!0)),b.preventDefault())};P([f.ENTER,f.ARROW_DOWN,f.SPACE,f.ESCAPE],H,{target:C});let N=b=>{R&&n&&m(b)},M=()=>!_&&y(!0),Q=b=>{!b.currentTarget.contains(b.relatedTarget)&&R&&(y(!1),m(!1))},F=()=>N(!0),X=()=>N(!1),Z=()=>{R&&m(s||c?!1:!S)},j=b=>{b.stopPropagation(),u([]),R&&m(!1)};return(0,g.jsxs)("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":v,"aria-expanded":S,"aria-readonly":!0,"aria-disabled":c,ref:C,onFocus:M,onBlur:Q,onMouseEnter:F,onMouseLeave:X,children:[(0,g.jsxs)("div",{className:"dropdown-heading",onClick:Z,children:[(0,g.jsx)("div",{className:"dropdown-heading-value",children:(0,g.jsx)(Se,{})}),s&&(0,g.jsx)(ye,{}),a.length>0&&l!==null&&(0,g.jsx)("button",{type:"button",className:"clear-selected-button",onClick:j,disabled:c,"aria-label":e("clearSelected"),children:l||(0,g.jsx)(V,{})}),(0,g.jsx)(J,{expanded:S})]}),S&&(0,g.jsx)("div",{className:"dropdown-content",children:(0,g.jsx)("div",{className:"panel-content",children:(0,g.jsx)($,{})})})]})},z=Ye;var q=require("react/jsx-runtime"),ze=e=>(0,q.jsx)(pe,{props:e,children:(0,q.jsx)("div",{className:`rmsc ${e.className||"multi-select"}`,children:(0,q.jsx)(z,{})})}),Ce=ze;0&&(module.exports={Dropdown,MultiSelect,SelectItem,SelectPanel});
