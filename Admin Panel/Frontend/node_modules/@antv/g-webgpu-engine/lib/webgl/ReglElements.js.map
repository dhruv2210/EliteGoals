{"version":3,"sources":["../../src/webgl/ReglElements.ts"],"names":["ReglElements","reGl","options","elements","data","usage","type","count","usageMap","gl","STATIC_DRAW","dataTypeMap","UNSIGNED_BYTE","subdata","destroy"],"mappings":";;;;;;;;;;;;;AAAA;;AAMA;;AAEA;AACA;AACA;IACqBA,Y;AAGnB,wBAAYC,IAAZ,EAA6BC,OAA7B,EAAsE;AAAA;AAAA,SAF9DC,QAE8D;AAAA,QAC5DC,IAD4D,GAC/BF,OAD+B,CAC5DE,IAD4D;AAAA,QACtDC,KADsD,GAC/BH,OAD+B,CACtDG,KADsD;AAAA,QAC/CC,IAD+C,GAC/BJ,OAD+B,CAC/CI,IAD+C;AAAA,QACzCC,KADyC,GAC/BL,OAD+B,CACzCK,KADyC;AAGpE,SAAKJ,QAAL,GAAgBF,IAAI,CAACE,QAAL,CAAc;AAC5BC,MAAAA,IAAI,EAAJA,IAD4B;AAE5BC,MAAAA,KAAK,EAAEG,oBAASH,KAAK,IAAII,gBAAGC,WAArB,CAFqB;AAG5BJ,MAAAA,IAAI,EAAEK,uBAAYL,IAAI,IAAIG,gBAAGG,aAAvB,CAHsB;AAO5BL,MAAAA,KAAK,EAALA;AAP4B,KAAd,CAAhB;AASD;;;;0BAEY;AACX,aAAO,KAAKJ,QAAZ;AACD;;;kCAME;AAAA,UAHDC,IAGC,QAHDA,IAGC;AACD,WAAKD,QAAL,CAAcU,OAAd,CAAsBT,IAAtB;AACD;;;8BAEgB;AACf,WAAKD,QAAL,CAAcW,OAAd;AACD","sourcesContent":["import {\n  gl,\n  IElements,\n  IElementsInitializationOptions,\n} from '@antv/g-webgpu-core';\nimport regl from 'regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    this.elements.destroy();\n  }\n}\n"],"file":"ReglElements.js"}