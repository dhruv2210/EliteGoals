{"version":3,"sources":["../../src/webgl/ReglBuffer.ts"],"names":["gl","dataTypeMap","usageMap","ReglBuffer","reGl","options","buffer","data","usage","type","STATIC_DRAW","UNSIGNED_BYTE","offset","subdata"],"mappings":";;AAAA,SAEEA,EAFF,QAKO,qBALP;AAOA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,aAAtC;AAEA;AACA;AACA;AACA;;IACqBC,U;AAGnB,sBAAYC,IAAZ,EAA6BC,OAA7B,EAAoE;AAAA;;AAAA,SAF5DC,MAE4D;AAAA,QAC1DC,IAD0D,GACpCF,OADoC,CAC1DE,IAD0D;AAAA,QACpDC,KADoD,GACpCH,OADoC,CACpDG,KADoD;AAAA,QAC7CC,IAD6C,GACpCJ,OADoC,CAC7CI,IAD6C,EAElE;;AACA,SAAKH,MAAL,GAAcF,IAAI,CAACE,MAAL,CAAY;AACxBC,MAAAA,IAAI,EAAJA,IADwB;AAExBC,MAAAA,KAAK,EAAEN,QAAQ,CAACM,KAAK,IAAIR,EAAE,CAACU,WAAb,CAFS;AAGxBD,MAAAA,IAAI,EAAER,WAAW,CAACQ,IAAI,IAAIT,EAAE,CAACW,aAAZ,CAHO,CAIxB;;AAJwB,KAAZ,CAAd;AAMD;;;;0BAEY;AACX,aAAO,KAAKL,MAAZ;AACD;;;8BAEgB,CACf;AACD;;;kCAEsE;AAAA,UAAtDC,IAAsD,QAAtDA,IAAsD;AAAA,UAAhDK,MAAgD,QAAhDA,MAAgD;AACrE;AACA,WAAKN,MAAL,CAAYO,OAAZ,CAAoBN,IAApB,EAA0BK,MAA1B;AACD;;;;;;SAzBkBT,U","sourcesContent":["import {\n  BufferData,\n  gl,\n  IBuffer,\n  IBufferInitializationOptions,\n} from '@antv/g-webgpu-core';\nimport regl from 'regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * adaptor for regl.Buffer\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#buffers\n */\nexport default class ReglBuffer implements IBuffer {\n  private buffer: regl.Buffer;\n\n  constructor(reGl: regl.Regl, options: IBufferInitializationOptions) {\n    const { data, usage, type } = options;\n    // @ts-ignore\n    this.buffer = reGl.buffer({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE],\n      // length: 0,\n    });\n  }\n\n  public get() {\n    return this.buffer;\n  }\n\n  public destroy() {\n    // this.buffer.destroy();\n  }\n\n  public subData({ data, offset }: { data: BufferData; offset: number }) {\n    // @ts-ignore\n    this.buffer.subdata(data, offset);\n  }\n}\n"],"file":"ReglBuffer.js"}