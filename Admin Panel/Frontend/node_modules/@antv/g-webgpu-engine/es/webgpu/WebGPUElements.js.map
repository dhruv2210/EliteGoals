{"version":3,"sources":["../../src/webgpu/WebGPUElements.ts"],"names":["WebGPUConstants","WebGPUBuffer","WebGPUElements","engine","options","indexCount","buffer","data","usage","type","count","Array","Uint16Array","BufferUsage","Index","CopyDst","subData","destroy"],"mappings":";;AAMA,OAAO,KAAKA,eAAZ,MAAiC,8BAAjC;AAEA,OAAOC,YAAP,MAAyB,gBAAzB;;IAEqBC,c;AAInB,0BACUC,MADV,EAEUC,OAFV,EAGE;AAAA;;AAAA,SAFQD,MAER,GAFQA,MAER;AAAA,SADQC,OACR,GADQA,OACR;AAAA,SANKC,UAML;AAAA,SALMC,MAKN;AAAA,mBACqCF,OADrC;AAAA,QACQG,IADR,YACQA,IADR;AAAA,QACcC,KADd,YACcA,KADd;AAAA,QACqBC,IADrB,YACqBA,IADrB;AAAA,QAC2BC,KAD3B,YAC2BA,KAD3B;AAEA,SAAKL,UAAL,GAAkBK,KAAK,IAAI,CAA3B;AAEA,SAAKJ,MAAL,GAAc,IAAIL,YAAJ,CAAiBE,MAAjB,EAAyB;AACrC;AACAI,MAAAA,IAAI,EAAEA,IAAI,YAAYI,KAAhB,GAAwB,IAAIC,WAAJ,CAAgBL,IAAhB,CAAxB,GAAgDA,IAFjB;AAGrCC,MAAAA,KAAK,EACHR,eAAe,CAACa,WAAhB,CAA4BC,KAA5B,GAAoCd,eAAe,CAACa,WAAhB,CAA4BE;AAJ7B,KAAzB,CAAd;AAMD;;;;0BAEY;AACX,aAAO,KAAKT,MAAZ;AACD;;;4BAEcF,O,EAKZ;AACD,WAAKE,MAAL,CAAYU,OAAZ,CAAoBZ,OAApB;AACD;;;8BAEgB;AACf,WAAKE,MAAL,CAAYW,OAAZ;AACD;;;;;;SAlCkBf,c","sourcesContent":["import {\n  BufferData,\n  IBuffer,\n  IElements,\n  IElementsInitializationOptions,\n} from '@antv/g-webgpu-core';\nimport * as WebGPUConstants from '@webgpu/types/dist/constants';\nimport { WebGPUEngine } from '.';\nimport WebGPUBuffer from './WebGPUBuffer';\n\nexport default class WebGPUElements implements IElements {\n  public indexCount: number;\n  private buffer: IBuffer;\n\n  constructor(\n    private engine: WebGPUEngine,\n    private options: IElementsInitializationOptions,\n  ) {\n    const { data, usage, type, count } = options;\n    this.indexCount = count || 0;\n\n    this.buffer = new WebGPUBuffer(engine, {\n      // @ts-ignore\n      data: data instanceof Array ? new Uint16Array(data) : data,\n      usage:\n        WebGPUConstants.BufferUsage.Index | WebGPUConstants.BufferUsage.CopyDst,\n    });\n  }\n\n  public get() {\n    return this.buffer;\n  }\n\n  public subData(options: {\n    // 用于替换的数据\n    data: BufferData;\n    // 原 Buffer 替换位置，单位为 byte\n    offset: number;\n  }) {\n    this.buffer.subData(options);\n  }\n\n  public destroy() {\n    this.buffer.destroy();\n  }\n}\n"],"file":"WebGPUElements.js"}