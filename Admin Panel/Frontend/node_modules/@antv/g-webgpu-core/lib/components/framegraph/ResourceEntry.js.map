{"version":3,"sources":["../../../src/components/framegraph/ResourceEntry.ts"],"names":["ResourceEntry","version","refs","name","imported","priority","discardStart","discardEnd","descriptor","resource","VirtualResource"],"mappings":";;;;;;;;;;;;;;;;;;;AAEA;;;;;;IAEaA,a;;;;;;;;;;;;;;;UACJC,O,GAAkB,C;UAElBC,I,GAAe,C;UAEfC,I;UAEAC,Q;UAEAC,Q;UAEAC,Y,GAAe,I;UAEfC,U,GAAa,K;UAEbC,U;UAEAC,Q;;;;;;;AAEP;AACF;AACA;wCACmC;AAC/B,WAAKF,UAAL,GAAkB,IAAlB;AACD;;;yCAEiC;AAChC,UAAI,CAAC,KAAKH,QAAV,EAAoB,CAClB;AACA;AACD;AACF;;;8CAEsC;AACrC,WAAKE,YAAL,GAAoB,KAApB;AACD;;;6CAE+B;AAC9B,UAAI,CAAC,KAAKF,QAAV,EAAoB,CAClB;AACD;AACF;;;EAzCgCM,iC","sourcesContent":["import { IFramebuffer, ITexture2D } from '../..';\nimport { TextureDescriptor } from './FrameGraphHandle';\nimport { VirtualResource } from './VirtualResource';\n\nexport class ResourceEntry extends VirtualResource {\n  public version: number = 0;\n\n  public refs: number = 0;\n\n  public name: string;\n\n  public imported: boolean;\n\n  public priority: number;\n\n  public discardStart = true;\n\n  public discardEnd = false;\n\n  public descriptor: TextureDescriptor;\n\n  public resource: IFramebuffer;\n\n  /**\n   * Lifecycles in FG's execute\n   */\n  public preExecuteDestroy(): void {\n    this.discardEnd = true;\n  }\n\n  public postExecuteDestroy(): void {\n    if (!this.imported) {\n      // TODO: 不需要每一帧结束后都销毁资源，可以增加临时资源标志\n      // this.resource.destroy();\n    }\n  }\n\n  public postExecuteDevirtualize(): void {\n    this.discardStart = false;\n  }\n\n  public preExecuteDevirtualize() {\n    if (!this.imported) {\n      //\n    }\n  }\n}\n"],"file":"ResourceEntry.js"}