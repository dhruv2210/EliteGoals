"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getWorkerURL = exports.getWorkerName = void 0;
var assert_1 = require("../utils/env-utils/assert");
/**
 * Gets worker object's name (for debugging in Chrome thread inspector window)
 */
function getWorkerName(worker) {
    return "" + worker.name;
}
exports.getWorkerName = getWorkerName;
/**
 * Generate a worker URL based on worker object and options
 * @returns A URL to one of the following:
 * - a published worker on unpkg CDN
 * - a local test worker
 * - a URL provided by the user in options
 */
function getWorkerURL(worker, options) {
    if (options === void 0) { options = {}; }
    var workerOptions = options[worker.id] || {};
    var workerFileName = worker.name + ".worker.js";
    var url = workerOptions.workerUrl;
    // If URL is test
    if (options._workerType === 'test') {
        url = worker.module + "/dist/" + workerFileName;
    }
    // If url override is not provided, generate a URL to published version on npm CDN unpkg.com
    if (!url) {
        url = "https://unpkg.com/" + worker.module + "/dist/" + workerFileName;
    }
    (0, assert_1.assert)(url);
    return url;
}
exports.getWorkerURL = getWorkerURL;
