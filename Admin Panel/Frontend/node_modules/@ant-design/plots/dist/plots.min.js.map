{"version":3,"file":"plots.min.js","mappings":"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","sources":["webpack://Plots/webpack/universalModuleDefinition","webpack://Plots/../../node_modules/fmin/build/fmin.js","webpack://Plots/../../node_modules/pdfast/src/helper.js","webpack://Plots/../../node_modules/pdfast/src/index.js","webpack://Plots/../../node_modules/size-sensor/lib/constant.js","webpack://Plots/../../node_modules/size-sensor/lib/debounce.js","webpack://Plots/../../node_modules/size-sensor/lib/id.js","webpack://Plots/../../node_modules/size-sensor/lib/index.js","webpack://Plots/../../node_modules/size-sensor/lib/sensorPool.js","webpack://Plots/../../node_modules/size-sensor/lib/sensors/index.js","webpack://Plots/../../node_modules/size-sensor/lib/sensors/object.js","webpack://Plots/../../node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://Plots/external umd {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://Plots/external umd {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack://Plots/webpack/bootstrap","webpack://Plots/webpack/runtime/compat get default export","webpack://Plots/webpack/runtime/define property getters","webpack://Plots/webpack/runtime/hasOwnProperty shorthand","webpack://Plots/webpack/runtime/make namespace object","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://Plots/../../node_modules/tslib/tslib.es6.js","webpack://Plots/../src/is-array-like.ts","webpack://Plots/../src/contains.ts","webpack://Plots/../src/filter.ts","webpack://Plots/../src/is-type.ts","webpack://Plots/../src/is-function.ts","webpack://Plots/../src/is-nil.ts","webpack://Plots/../src/is-array.ts","webpack://Plots/../src/is-object.ts","webpack://Plots/../src/each.ts","webpack://Plots/../src/keys.ts","webpack://Plots/../src/is-match.ts","webpack://Plots/../src/is-object-like.ts","webpack://Plots/../src/is-plain-object.ts","webpack://Plots/../src/find.ts","webpack://Plots/../src/find-index.ts","webpack://Plots/../src/flatten.ts","webpack://Plots/../src/max.ts","webpack://Plots/../src/min.ts","webpack://Plots/../src/get-range.ts","webpack://Plots/../src/pull.ts","webpack://Plots/../src/pull-at.ts","webpack://Plots/../src/reduce.ts","webpack://Plots/../src/remove.ts","webpack://Plots/../src/is-string.ts","webpack://Plots/../src/uniq.ts","webpack://Plots/../src/values-of-key.ts","webpack://Plots/../src/head.ts","webpack://Plots/../src/last.ts","webpack://Plots/../src/every.ts","webpack://Plots/../src/some.ts","webpack://Plots/../src/group-by.ts","webpack://Plots/../src/group-to-map.ts","webpack://Plots/../src/clamp.ts","webpack://Plots/../src/fixed-base.ts","webpack://Plots/../src/is-number.ts","webpack://Plots/../src/is-number-equal.ts","webpack://Plots/../src/is-integer.ts","webpack://Plots/../src/is-positive.ts","webpack://Plots/../src/max-by.ts","webpack://Plots/../src/mod.ts","webpack://Plots/../src/to-degree.ts","webpack://Plots/../src/to-integer.ts","webpack://Plots/../src/to-radian.ts","webpack://Plots/../src/for-in.ts","webpack://Plots/../src/has-key.ts","webpack://Plots/../src/has.ts","webpack://Plots/../src/values.ts","webpack://Plots/../src/to-string.ts","webpack://Plots/../src/lower-case.ts","webpack://Plots/../src/substitute.ts","webpack://Plots/../src/upper-first.ts","webpack://Plots/../src/get-type.ts","webpack://Plots/../src/is-boolean.ts","webpack://Plots/../src/is-date.ts","webpack://Plots/../src/is-null.ts","webpack://Plots/../src/is-prototype.ts","webpack://Plots/../src/is-undefined.ts","webpack://Plots/../src/is-element.ts","webpack://Plots/../src/clone.ts","webpack://Plots/../src/debounce.ts","webpack://Plots/../src/memoize.ts","webpack://Plots/../src/deep-mix.ts","webpack://Plots/../src/index-of.ts","webpack://Plots/../src/is-empty.ts","webpack://Plots/../src/is-equal.ts","webpack://Plots/../src/map.ts","webpack://Plots/../src/map-values.ts","webpack://Plots/../src/mix.ts","webpack://Plots/../src/get.ts","webpack://Plots/../src/set.ts","webpack://Plots/../src/pick.ts","webpack://Plots/../src/omit.ts","webpack://Plots/../src/throttle.ts","webpack://Plots/../src/unique-id.ts","webpack://Plots/../src/noop.ts","webpack://Plots/../src/size.ts","webpack://Plots/../src/measure-text-width.ts","webpack://Plots/../src/cache.ts","webpack://Plots/../src/constant.ts","webpack://Plots/../src/create-dom.ts","webpack://Plots/../../src/engine/index.ts","webpack://Plots/../src/modify-css.ts","webpack://Plots/../../src/util/dom.ts","webpack://Plots/../src/index.ts","webpack://Plots/../src/base.ts","webpack://Plots/../../src/util/path.ts","webpack://Plots/../../src/event/graph-event.ts","webpack://Plots/../../src/util/util.ts","webpack://Plots/../../src/abstract/base.ts","webpack://Plots/../../node_modules/detect-browser/es/index.js","webpack://Plots/../../node_modules/gl-matrix/esm/mat3.js","webpack://Plots/../../node_modules/gl-matrix/esm/common.js","webpack://Plots/../../node_modules/gl-matrix/esm/vec2.js","webpack://Plots/../src/ext.ts","webpack://Plots/../../src/util/matrix.ts","webpack://Plots/../../src/abstract/element.ts","webpack://Plots/../../src/abstract/container.ts","webpack://Plots/../../node_modules/@antv/g-base/node_modules/d3-timer/src/timer.js","webpack://Plots/../../node_modules/d3-color/src/define.js","webpack://Plots/../../node_modules/d3-color/src/color.js","webpack://Plots/../../node_modules/d3-interpolate/src/basis.js","webpack://Plots/../../node_modules/d3-interpolate/src/constant.js","webpack://Plots/../../node_modules/d3-interpolate/src/color.js","webpack://Plots/../../node_modules/d3-interpolate/src/rgb.js","webpack://Plots/../../node_modules/d3-interpolate/src/numberArray.js","webpack://Plots/../../node_modules/d3-interpolate/src/array.js","webpack://Plots/../../node_modules/d3-interpolate/src/date.js","webpack://Plots/../../node_modules/d3-interpolate/src/number.js","webpack://Plots/../../node_modules/d3-interpolate/src/object.js","webpack://Plots/../../node_modules/d3-interpolate/src/basisClosed.js","webpack://Plots/../../node_modules/d3-interpolate/src/string.js","webpack://Plots/../../node_modules/d3-interpolate/src/value.js","webpack://Plots/../../node_modules/d3-ease/src/linear.js","webpack://Plots/../../node_modules/d3-ease/src/quad.js","webpack://Plots/../../node_modules/d3-ease/src/cubic.js","webpack://Plots/../../node_modules/d3-ease/src/poly.js","webpack://Plots/../../node_modules/d3-ease/src/sin.js","webpack://Plots/../../node_modules/d3-ease/src/math.js","webpack://Plots/../../node_modules/d3-ease/src/exp.js","webpack://Plots/../../node_modules/d3-ease/src/circle.js","webpack://Plots/../../node_modules/d3-ease/src/bounce.js","webpack://Plots/../../node_modules/d3-ease/src/back.js","webpack://Plots/../../node_modules/d3-ease/src/elastic.js","webpack://Plots/../../src/animate/register.ts","webpack://Plots/../../src/util/color.ts","webpack://Plots/../../src/animate/timeline.ts","webpack://Plots/../../src/event/event-contoller.ts","webpack://Plots/../../src/abstract/canvas.ts","webpack://Plots/../../src/abstract/group.ts","webpack://Plots/../../src/abstract/shape.ts","webpack://Plots/../../src/bbox/register.ts","webpack://Plots/../../src/bbox/rect.ts","webpack://Plots/../../src/bbox/circle.ts","webpack://Plots/../src/util.ts","webpack://Plots/../src/line.ts","webpack://Plots/../src/bezier.ts","webpack://Plots/../src/quadratic.ts","webpack://Plots/../src/cubic.ts","webpack://Plots/../src/arc.ts","webpack://Plots/../src/polyline.ts","webpack://Plots/../src/segments.ts","webpack://Plots/../../src/bbox/util.ts","webpack://Plots/../../src/util/offscreen.ts","webpack://Plots/../../src/util/text.ts","webpack://Plots/../src/parse-path.ts","webpack://Plots/../src/parse-path-string.ts","webpack://Plots/../src/path-2-absolute.ts","webpack://Plots/../src/get-arc-params.ts","webpack://Plots/../src/path-2-segments.ts","webpack://Plots/../src/point-in-polygon.ts","webpack://Plots/../../src/process/arc-2-cubic.ts","webpack://Plots/../src/get-line-intersect.ts","webpack://Plots/../src/is-polygons-intersect.ts","webpack://Plots/../../src/bbox/path.ts","webpack://Plots/../../src/bbox/index.ts","webpack://Plots/../../src/bbox/polyline.ts","webpack://Plots/../../src/bbox/polygon.ts","webpack://Plots/../../src/bbox/text.ts","webpack://Plots/../../src/bbox/line.ts","webpack://Plots/../../src/bbox/ellipse.ts","webpack://Plots/../../src/adjusts/adjust.ts","webpack://Plots/../src/factory.ts","webpack://Plots/../../node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://Plots/../../src/adjusts/dodge.ts","webpack://Plots/../src/group.ts","webpack://Plots/../../src/adjusts/jitter.ts","webpack://Plots/../../src/adjusts/stack.ts","webpack://Plots/../../src/adjusts/symmetric.ts","webpack://Plots/../../src/attributes/base.ts","webpack://Plots/../../node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://Plots/../../src/attributes/color.ts","webpack://Plots/../../src/attributes/opacity.ts","webpack://Plots/../../src/attributes/position.ts","webpack://Plots/../../src/attributes/shape.ts","webpack://Plots/../../src/attributes/size.ts","webpack://Plots/../../src/tick-method/register.ts","webpack://Plots/../../src/category/base.ts","webpack://Plots/../src/fecha.ts","webpack://Plots/../../src/util/time.ts","webpack://Plots/../../src/category/time.ts","webpack://Plots/../../src/continuous/base.ts","webpack://Plots/../../src/continuous/linear.ts","webpack://Plots/../../src/util/math.ts","webpack://Plots/../../src/continuous/log.ts","webpack://Plots/../../src/continuous/pow.ts","webpack://Plots/../../src/continuous/time.ts","webpack://Plots/../../src/continuous/quantize.ts","webpack://Plots/../../src/continuous/quantile.ts","webpack://Plots/../../src/identity/index.ts","webpack://Plots/../../src/tick-method/cat.ts","webpack://Plots/../../src/util/d3-linear.ts","webpack://Plots/../../src/util/interval.ts","webpack://Plots/../../src/util/strict-limit.ts","webpack://Plots/../../src/util/pretty-number.ts","webpack://Plots/../../src/util/extended.ts","webpack://Plots/../../src/util/pretty.ts","webpack://Plots/../../src/tick-method/quantile.ts","webpack://Plots/../../src/tick-method/time-pretty.ts","webpack://Plots/../../src/tick-method/index.ts","webpack://Plots/../../src/tick-method/time-cat.ts","webpack://Plots/../../src/tick-method/linear.ts","webpack://Plots/../../src/tick-method/r-prettry.ts","webpack://Plots/../../src/tick-method/time.ts","webpack://Plots/../../src/util/bisector.ts","webpack://Plots/../../src/tick-method/log.ts","webpack://Plots/../../src/tick-method/pow.ts","webpack://Plots/../../src/tick-method/d3-linear.ts","webpack://Plots/../../node_modules/gl-matrix/esm/vec3.js","webpack://Plots/../../src/coord/base.ts","webpack://Plots/../../src/coord/cartesian.ts","webpack://Plots/../../src/coord/helix.ts","webpack://Plots/../../src/coord/polar.ts","webpack://Plots/../../src/util/event.ts","webpack://Plots/../../src/abstract/component.ts","webpack://Plots/../../src/abstract/group-component.ts","webpack://Plots/../src/difference.ts","webpack://Plots/../../src/util/label.ts","webpack://Plots/../src/get-ellipsis-text.ts","webpack://Plots/../../src/util/graphic.ts","webpack://Plots/../../src/util/theme.ts","webpack://Plots/../../src/annotation/line.ts","webpack://Plots/../../src/annotation/text.ts","webpack://Plots/../../src/annotation/arc.ts","webpack://Plots/../../src/annotation/region.ts","webpack://Plots/../../src/annotation/image.ts","webpack://Plots/../../src/annotation/data-marker.ts","webpack://Plots/../../src/annotation/data-region.ts","webpack://Plots/../../src/annotation/region-filter.ts","webpack://Plots/../../src/annotation/shape.ts","webpack://Plots/../src/get-style.ts","webpack://Plots/../../src/abstract/html-component.ts","webpack://Plots/../../src/annotation/html.ts","webpack://Plots/../src/get-outer-width.ts","webpack://Plots/../src/get-width.ts","webpack://Plots/../src/get-outer-height.ts","webpack://Plots/../src/get-height.ts","webpack://Plots/../../src/util/state.ts","webpack://Plots/../../src/axis/base.ts","webpack://Plots/../../../src/axis/overlap/auto-ellipsis.ts","webpack://Plots/../../../src/axis/overlap/auto-hide.ts","webpack://Plots/../../../src/axis/overlap/auto-rotate.ts","webpack://Plots/../../src/axis/line.ts","webpack://Plots/../../src/axis/circle.ts","webpack://Plots/../../src/crosshair/base.ts","webpack://Plots/../../src/crosshair/line.ts","webpack://Plots/../../src/crosshair/circle.ts","webpack://Plots/../../src/crosshair/css-const.ts","webpack://Plots/../../src/crosshair/html-theme.ts","webpack://Plots/../../src/crosshair/html.ts","webpack://Plots/../../src/grid/base.ts","webpack://Plots/../../src/grid/circle.ts","webpack://Plots/../../src/grid/line.ts","webpack://Plots/../../src/legend/base.ts","webpack://Plots/../../src/legend/category.ts","webpack://Plots/../../src/legend/continuous.ts","webpack://Plots/../../src/tooltip/css-const.ts","webpack://Plots/../../src/tooltip/html-theme.ts","webpack://Plots/../../src/tooltip/html.ts","webpack://Plots/../../src/util/align.ts","webpack://Plots/../../src/trend/constant.ts","webpack://Plots/../../src/trend/path.ts","webpack://Plots/../src/catmull-rom-2-bezier.ts","webpack://Plots/../../src/trend/trend.ts","webpack://Plots/../../src/slider/handler.ts","webpack://Plots/../../src/slider/constant.ts","webpack://Plots/../../src/slider/slider.ts","webpack://Plots/../src/add-event-listener.ts","webpack://Plots/../../src/scrollbar/scrollbar.ts","webpack://Plots/../src/dependents.ts","webpack://Plots/../../src/util/graphics.ts","webpack://Plots/../../src/util/helper.ts","webpack://Plots/../../src/util/bbox.ts","webpack://Plots/../../src/util/coordinate.ts","webpack://Plots/../../src/util/scale.ts","webpack://Plots/../src/first-value.ts","webpack://Plots/../../src/util/axis.ts","webpack://Plots/../../src/facet/facet.ts","webpack://Plots/../../src/facet/index.ts","webpack://Plots/../../../src/interaction/action/base.ts","webpack://Plots/../../../src/interaction/action/callback.ts","webpack://Plots/../../../src/interaction/action/register.ts","webpack://Plots/../../../../src/geometry/shape/util/path.ts","webpack://Plots/../../../src/interaction/action/util.ts","webpack://Plots/../../src/interaction/context.ts","webpack://Plots/../../src/interaction/interaction.ts","webpack://Plots/../../src/interaction/grammar-interaction.ts","webpack://Plots/../../src/interaction/index.ts","webpack://Plots/../../../src/theme/util/create-by-style-sheet.ts","webpack://Plots/../../../src/theme/style-sheet/light.ts","webpack://Plots/../../../src/theme/util/create-theme.ts","webpack://Plots/../../src/theme/index.ts","webpack://Plots/../../src/util/tooltip.ts","webpack://Plots/../../src/util/padding.ts","webpack://Plots/../../../src/chart/controller/index.ts","webpack://Plots/../../../src/chart/controller/coordinate.ts","webpack://Plots/../../src/chart/event.ts","webpack://Plots/../../../src/chart/layout/index.ts","webpack://Plots/../../../src/chart/util/scale-pool.ts","webpack://Plots/../../../src/chart/layout/padding-cal.ts","webpack://Plots/../../../src/chart/util/sync-view-padding.ts","webpack://Plots/../../src/chart/view.ts","webpack://Plots/../../../src/chart/layout/auto.ts","webpack://Plots/../../src/chart/chart.ts","webpack://Plots/../../../src/chart/controller/base.ts","webpack://Plots/../../../src/chart/controller/tooltip.ts","webpack://Plots/../../../src/animate/animation/index.ts","webpack://Plots/../../src/animate/index.ts","webpack://Plots/../../../src/geometry/shape/constant.ts","webpack://Plots/../../../src/geometry/element/index.ts","webpack://Plots/../../../src/geometry/label/index.ts","webpack://Plots/../../../src/geometry/shape/base.ts","webpack://Plots/../../../src/geometry/util/is-model-change.ts","webpack://Plots/../../../src/geometry/util/parse-fields.ts","webpack://Plots/../../../src/geometry/util/diff.ts","webpack://Plots/../../src/geometry/base.ts","webpack://Plots/../../../src/geometry/util/group-data.ts","webpack://Plots/../../src/util/transform.ts","webpack://Plots/../../../../src/geometry/label/util/index.ts","webpack://Plots/../../src/component/update-label.ts","webpack://Plots/../../src/component/labels.ts","webpack://Plots/../../../src/geometry/label/base.ts","webpack://Plots/../../src/util/attr.ts","webpack://Plots/../../src/util/marker.ts","webpack://Plots/../../src/util/legend.ts","webpack://Plots/../../../../src/geometry/shape/util/get-path-points.ts","webpack://Plots/../../../../src/geometry/shape/util/get-style.ts","webpack://Plots/../../../../src/geometry/shape/util/split-points.ts","webpack://Plots/../../../../src/geometry/shape/line/util.ts","webpack://Plots/../../../../src/geometry/shape/line/index.ts","webpack://Plots/../src/core.ts","webpack://Plots/../../../src/theme/style-sheet/dark.ts","webpack://Plots/../../src/util/parse.ts","webpack://Plots/../../src/util/arc-params.ts","webpack://Plots/../../src/util/arrow.ts","webpack://Plots/../../src/util/draw.ts","webpack://Plots/../../src/shape/base.ts","webpack://Plots/../../src/shape/circle.ts","webpack://Plots/../../src/shape/ellipse.ts","webpack://Plots/../../src/shape/image.ts","webpack://Plots/../../../src/util/in-stroke/line.ts","webpack://Plots/../../src/shape/line.ts","webpack://Plots/../../src/shape/marker.ts","webpack://Plots/../../../src/util/in-path/point-in-path.ts","webpack://Plots/../../../src/util/in-path/polygon.ts","webpack://Plots/../../../src/util/in-stroke/arc.ts","webpack://Plots/../../src/shape/path.ts","webpack://Plots/../../../src/util/in-stroke/polyline.ts","webpack://Plots/../../src/shape/polygon.ts","webpack://Plots/../../src/shape/polyline.ts","webpack://Plots/../../src/shape/rect.ts","webpack://Plots/../../../src/util/in-stroke/rect-radius.ts","webpack://Plots/../../../src/util/in-stroke/rect.ts","webpack://Plots/../../src/shape/text.ts","webpack://Plots/../../src/util/hit.ts","webpack://Plots/../src/canvas.ts","webpack://Plots/../src/clear-animation-frame.ts","webpack://Plots/../src/request-animation-frame.ts","webpack://Plots/../src/to-array.ts","webpack://Plots/../../src/util/svg.ts","webpack://Plots/../../src/shape/dom.ts","webpack://Plots/../../../src/shape/marker/symbols.ts","webpack://Plots/../../../src/shape/marker/index.ts","webpack://Plots/../../src/util/format.ts","webpack://Plots/../../src/defs/gradient.ts","webpack://Plots/../../src/defs/shadow.ts","webpack://Plots/../../src/defs/arrow.ts","webpack://Plots/../../src/defs/clip.ts","webpack://Plots/../../src/defs/pattern.ts","webpack://Plots/../../src/defs/index.ts","webpack://Plots/../../src/geometry/path.ts","webpack://Plots/../../../../src/geometry/shape/area/util.ts","webpack://Plots/../../../../src/geometry/shape/area/index.ts","webpack://Plots/../../src/geometry/area.ts","webpack://Plots/../../../../src/geometry/shape/edge/index.ts","webpack://Plots/../../src/geometry/edge.ts","webpack://Plots/../../src/geometry/heatmap.ts","webpack://Plots/../../../../src/geometry/shape/interval/util.ts","webpack://Plots/../../../src/geometry/util/shape-size.ts","webpack://Plots/../../../../src/geometry/shape/interval/index.ts","webpack://Plots/../../src/geometry/interval.ts","webpack://Plots/../../src/geometry/line.ts","webpack://Plots/../../../../src/geometry/shape/point/util.ts","webpack://Plots/../../../../src/geometry/shape/point/index.ts","webpack://Plots/../../src/geometry/point.ts","webpack://Plots/../../../../src/geometry/shape/polygon/index.ts","webpack://Plots/../../src/geometry/polygon.ts","webpack://Plots/../../../../src/geometry/shape/schema/index.ts","webpack://Plots/../../src/geometry/schema.ts","webpack://Plots/../../../../src/geometry/shape/violin/index.ts","webpack://Plots/../../src/geometry/violin.ts","webpack://Plots/../../../../src/geometry/shape/edge/util.ts","webpack://Plots/../../../../src/geometry/shape/area/line.ts","webpack://Plots/../../../../src/geometry/shape/area/smooth.ts","webpack://Plots/../../../../src/geometry/shape/area/smooth-line.ts","webpack://Plots/../../../../src/geometry/shape/edge/arc.ts","webpack://Plots/../../../../src/geometry/shape/edge/smooth.ts","webpack://Plots/../../../../src/geometry/shape/edge/vhv.ts","webpack://Plots/../../../../src/geometry/shape/schema/box.ts","webpack://Plots/../../../../src/geometry/shape/schema/candle.ts","webpack://Plots/../../../../src/geometry/shape/polygon/square.ts","webpack://Plots/../../../../src/geometry/shape/interval/funnel.ts","webpack://Plots/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://Plots/../../../../src/geometry/shape/interval/line.ts","webpack://Plots/../../../../src/geometry/shape/interval/pyramid.ts","webpack://Plots/../../../../src/geometry/shape/interval/tick.ts","webpack://Plots/../../../../src/geometry/shape/line/step.ts","webpack://Plots/../../../../src/geometry/shape/point/hollow.ts","webpack://Plots/../../../../src/geometry/shape/point/image.ts","webpack://Plots/../../../../src/geometry/shape/point/solid.ts","webpack://Plots/../../../../src/geometry/shape/violin/smooth.ts","webpack://Plots/../../../../src/geometry/shape/violin/hollow.ts","webpack://Plots/../../../src/geometry/label/interval.ts","webpack://Plots/../../../src/geometry/label/polar.ts","webpack://Plots/../../../src/geometry/label/pie.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/util.ts","webpack://Plots/../../../../src/geometry/label/layout/overlap.ts","webpack://Plots/../../src/util/collision-detect.ts","webpack://Plots/../../../../src/geometry/label/util/createWorker.ts","webpack://Plots/../../src/util/context.ts","webpack://Plots/../../../../../src/geometry/label/layout/worker/hide-overlap.ts","webpack://Plots/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://Plots/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://Plots/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://Plots/../../../src/animate/animation/util.ts","webpack://Plots/../../../src/animate/animation/sector-path-update.ts","webpack://Plots/../../../src/animate/animation/zoom.ts","webpack://Plots/../../src/util/facet.ts","webpack://Plots/../../src/facet/circle.ts","webpack://Plots/../../src/facet/list.ts","webpack://Plots/../../src/facet/matrix.ts","webpack://Plots/../../src/facet/mirror.ts","webpack://Plots/../../src/facet/rect.ts","webpack://Plots/../../src/facet/tree.ts","webpack://Plots/../../src/util/stat.ts","webpack://Plots/../../src/util/annotation.ts","webpack://Plots/../../../src/chart/controller/annotation.ts","webpack://Plots/../../src/util/grid.ts","webpack://Plots/../../../src/chart/controller/axis.ts","webpack://Plots/../../src/util/direction.ts","webpack://Plots/../../../src/chart/controller/legend.ts","webpack://Plots/../../../src/chart/controller/slider.ts","webpack://Plots/../../../src/chart/controller/scrollbar.ts","webpack://Plots/../../../src/interaction/action/active-region.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://Plots/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://Plots/../../../../src/interaction/action/element/state-base.ts","webpack://Plots/../../../../src/interaction/action/element/state.ts","webpack://Plots/../../../../src/interaction/action/element/active.ts","webpack://Plots/../../../../src/interaction/action/element/link-by-color.ts","webpack://Plots/../../../../src/interaction/action/element/range-state.ts","webpack://Plots/../../../../src/interaction/action/element/range-active.ts","webpack://Plots/../../../../src/interaction/action/element/single-state.ts","webpack://Plots/../../../../src/interaction/action/element/single-active.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-util.ts","webpack://Plots/../../../../src/interaction/action/element/highlight.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://Plots/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://Plots/../../../../src/interaction/action/element/range-highlight.ts","webpack://Plots/../../../../src/interaction/action/element/single-highlight.ts","webpack://Plots/../../../../src/interaction/action/element/range-selected.ts","webpack://Plots/../../../../src/interaction/action/element/selected.ts","webpack://Plots/../../../../src/interaction/action/element/single-selected.ts","webpack://Plots/../../../../src/interaction/action/component/list-state.ts","webpack://Plots/../../../../src/interaction/action/component/list-active.ts","webpack://Plots/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://Plots/../../../../src/interaction/action/component/list-highlight.ts","webpack://Plots/../../../../src/interaction/action/component/list-selected.ts","webpack://Plots/../../../../src/interaction/action/component/list-unchecked.ts","webpack://Plots/../../../../src/interaction/action/component/list-checked.ts","webpack://Plots/../../../../src/interaction/action/component/list-focus.ts","webpack://Plots/../../../../src/interaction/action/component/list-radio.ts","webpack://Plots/../../../../src/interaction/action/mask/base.ts","webpack://Plots/../../../../src/interaction/action/mask/circle.ts","webpack://Plots/../../../../src/interaction/action/mask/rect.ts","webpack://Plots/../../../../src/interaction/action/mask/dim-rect.ts","webpack://Plots/../../../../src/interaction/action/mask/path.ts","webpack://Plots/../../../../src/interaction/action/mask/smooth-path.ts","webpack://Plots/../../../src/interaction/action/cursor.ts","webpack://Plots/../../../../src/interaction/action/data/filter.ts","webpack://Plots/../../../../src/interaction/action/data/range-filter.ts","webpack://Plots/../../../../src/interaction/action/data/sibling-filter.ts","webpack://Plots/../../../../src/interaction/action/element/filter.ts","webpack://Plots/../../../../src/interaction/action/element/sibling-filter.ts","webpack://Plots/../../../../src/interaction/action/view/button.ts","webpack://Plots/../../../../src/interaction/action/view/drag.ts","webpack://Plots/../../../../src/interaction/action/view/move.ts","webpack://Plots/../../../../src/interaction/action/view/scale-transform.ts","webpack://Plots/../../../../src/interaction/action/view/scale-translate.ts","webpack://Plots/../../../../src/interaction/action/view/scale-zoom.ts","webpack://Plots/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://Plots/../../../../../src/interaction/action/component/axis/axis-description.ts","webpack://Plots/../../src/utils/flow.ts","webpack://Plots/../../src/utils/pick.ts","webpack://Plots/../../src/utils/template.ts","webpack://Plots/../../src/utils/invariant.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://Plots/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://Plots/../../../../src/geometry/label/layout/adjust-color.ts","webpack://Plots/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://Plots/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://Plots/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://Plots/../../../src/animate/animation/fade.ts","webpack://Plots/../../../src/animate/animation/grow-in.ts","webpack://Plots/../../../src/animate/animation/scale-in.ts","webpack://Plots/../../../src/animate/animation/wave-in.ts","webpack://Plots/../../../src/animate/animation/position-update.ts","webpack://Plots/../../../src/animate/animation/path-in.ts","webpack://Plots/../../src/utils/dom.ts","webpack://Plots/../../src/utils/geometry.ts","webpack://Plots/../../src/utils/view.ts","webpack://Plots/../../src/utils/label.ts","webpack://Plots/../../src/utils/deep-assign.ts","webpack://Plots/../../src/utils/kebab-case.ts","webpack://Plots/../../src/utils/statistic.ts","webpack://Plots/../../src/utils/context.ts","webpack://Plots/../../src/utils/measure-text.ts","webpack://Plots/../../src/utils/number.ts","webpack://Plots/../../src/utils/data.ts","webpack://Plots/../../src/utils/padding.ts","webpack://Plots/../../src/core/global.ts","webpack://Plots/../../src/core/locale.ts","webpack://Plots/../../src/locales/en_US.ts","webpack://Plots/../../src/core/plot.ts","webpack://Plots/../../../src/utils/pattern/util.ts","webpack://Plots/../../../src/utils/pattern/dot.ts","webpack://Plots/../../../src/utils/pattern/line.ts","webpack://Plots/../../../src/utils/pattern/square.ts","webpack://Plots/../../../src/utils/pattern/index.ts","webpack://Plots/../../src/adaptor/pattern.ts","webpack://Plots/../../src/adaptor/common.ts","webpack://Plots/../../src/utils/tooltip.ts","webpack://Plots/../../../src/adaptor/geometries/base.ts","webpack://Plots/../../../src/adaptor/geometries/area.ts","webpack://Plots/../../../src/adaptor/geometries/line.ts","webpack://Plots/../../../src/adaptor/geometries/point.ts","webpack://Plots/../../../src/adaptor/geometries/interval.ts","webpack://Plots/../../../src/adaptor/geometries/polygon.ts","webpack://Plots/../../../src/adaptor/geometries/edge.ts","webpack://Plots/../../../src/adaptor/geometries/schema.ts","webpack://Plots/../../../src/plots/line/adaptor.ts","webpack://Plots/../../../src/plots/line/constants.ts","webpack://Plots/../../../../src/plots/line/interactions/marker-active.ts","webpack://Plots/../../../../src/plots/line/interactions/index.ts","webpack://Plots/../../../src/plots/line/index.ts","webpack://Plots/../../../src/utils/transform/percent.ts","webpack://Plots/../../../src/plots/area/adaptor.ts","webpack://Plots/../../../src/plots/area/constants.ts","webpack://Plots/../../../src/plots/area/index.ts","webpack://Plots/../../src/utils/conversion.ts","webpack://Plots/../../src/adaptor/conversion-tag.ts","webpack://Plots/../../src/adaptor/connected-area.ts","webpack://Plots/../../../src/interactions/actions/reset-button.ts","webpack://Plots/../../src/interactions/brush.ts","webpack://Plots/../../src/adaptor/brush.ts","webpack://Plots/../../../src/plots/column/adaptor.ts","webpack://Plots/../../../src/plots/column/constants.ts","webpack://Plots/../../../src/plots/column/index.ts","webpack://Plots/../../../src/plots/bar/adaptor.ts","webpack://Plots/../../../src/plots/bar/constants.ts","webpack://Plots/../../../src/plots/bar/index.ts","webpack://Plots/../../../src/plots/pie/contants.ts","webpack://Plots/../../../src/plots/pie/utils.ts","webpack://Plots/../../src/utils/matrix.ts","webpack://Plots/../../../../../src/plots/pie/interactions/actions/legend-active.ts","webpack://Plots/../../../../../src/plots/pie/interactions/actions/statistic-active.ts","webpack://Plots/../../../../src/plots/pie/interactions/util.ts","webpack://Plots/../../../src/plots/pie/adaptor.ts","webpack://Plots/../../../../src/plots/pie/interactions/index.ts","webpack://Plots/../../../src/plots/pie/index.ts","webpack://Plots/../../../src/plots/rose/adaptor.ts","webpack://Plots/../../../src/plots/rose/constant.ts","webpack://Plots/../../../src/plots/rose/index.ts","webpack://Plots/../../../src/utils/transform/word-cloud.ts","webpack://Plots/../../../src/plots/word-cloud/utils.ts","webpack://Plots/../../../src/plots/word-cloud/constant.ts","webpack://Plots/../../../src/plots/word-cloud/adaptor.ts","webpack://Plots/../../../../src/plots/word-cloud/shapes/word-cloud.ts","webpack://Plots/../../../src/plots/word-cloud/index.ts","webpack://Plots/../../node_modules/d3-regression/dist/d3-regression.esm.js","webpack://Plots/../../../src/plots/scatter/util.ts","webpack://Plots/../../src/utils/path.ts","webpack://Plots/../../../src/plots/scatter/adaptor.ts","webpack://Plots/../../../src/plots/scatter/constant.ts","webpack://Plots/../../src/interactions/drag-move.ts","webpack://Plots/../../../src/plots/scatter/index.ts","webpack://Plots/../../../src/plots/radar/adaptor.ts","webpack://Plots/../../../../src/plots/radar/interactions/radar-tooltip-action.ts","webpack://Plots/../../../../src/plots/radar/interactions/index.ts","webpack://Plots/../../../src/plots/radar/index.ts","webpack://Plots/../../../src/plots/dual-axes/types.ts","webpack://Plots/../../../src/plots/dual-axes/constant.ts","webpack://Plots/../../../../src/plots/dual-axes/util/option.ts","webpack://Plots/../../../../src/plots/dual-axes/util/legend.ts","webpack://Plots/../../../../src/plots/dual-axes/util/render-sider.ts","webpack://Plots/../../../src/plots/dual-axes/adaptor.ts","webpack://Plots/../../../../src/plots/dual-axes/util/geometry.ts","webpack://Plots/../../../src/plots/dual-axes/index.ts","webpack://Plots/../../../src/plots/tiny-line/constants.ts","webpack://Plots/../../../src/plots/tiny-line/utils.ts","webpack://Plots/../../../src/plots/tiny-area/adaptor.ts","webpack://Plots/../../../src/plots/tiny-line/adaptor.ts","webpack://Plots/../../../src/plots/tiny-line/index.ts","webpack://Plots/../../../src/plots/tiny-column/adaptor.ts","webpack://Plots/../../../src/plots/tiny-column/constants.ts","webpack://Plots/../../../src/plots/tiny-column/index.ts","webpack://Plots/../../../src/plots/tiny-area/constants.ts","webpack://Plots/../../../src/plots/tiny-area/index.ts","webpack://Plots/../../../src/utils/transform/histogram.ts","webpack://Plots/../src/sort-by.ts","webpack://Plots/../../../src/plots/histogram/constant.ts","webpack://Plots/../../../src/plots/histogram/adaptor.ts","webpack://Plots/../../../src/plots/histogram/index.ts","webpack://Plots/../../../src/plots/progress/constants.ts","webpack://Plots/../../../src/plots/progress/utils.ts","webpack://Plots/../../../src/plots/progress/adaptor.ts","webpack://Plots/../../../src/plots/progress/index.ts","webpack://Plots/../../../src/plots/ring-progress/adaptor.ts","webpack://Plots/../../../src/plots/ring-progress/constants.ts","webpack://Plots/../../../src/plots/ring-progress/index.ts","webpack://Plots/../../../src/plots/heatmap/adaptor.ts","webpack://Plots/../../../src/plots/heatmap/constant.ts","webpack://Plots/../../../../src/plots/heatmap/shapes/circle.ts","webpack://Plots/../../../../src/plots/heatmap/shapes/square.ts","webpack://Plots/../../../src/plots/heatmap/index.ts","webpack://Plots/../../../src/plots/box/constant.ts","webpack://Plots/../../../src/plots/box/utils.ts","webpack://Plots/../../../src/plots/box/adaptor.ts","webpack://Plots/../../../src/plots/box/index.ts","webpack://Plots/../../../src/utils/transform/quantile.ts","webpack://Plots/../../../src/plots/violin/utils.ts","webpack://Plots/../../../src/plots/violin/constant.ts","webpack://Plots/../../../src/plots/violin/adaptor.ts","webpack://Plots/../../../src/adaptor/geometries/violin.ts","webpack://Plots/../../../src/plots/violin/index.ts","webpack://Plots/../../../src/utils/color/blend.ts","webpack://Plots/../../../../src/plots/venn/layout/circleintersection.ts","webpack://Plots/../../../../src/plots/venn/layout/layout.ts","webpack://Plots/../../../../src/plots/venn/layout/diagram.ts","webpack://Plots/../../../src/plots/venn/constant.ts","webpack://Plots/../../../src/plots/venn/utils.ts","webpack://Plots/../../../src/plots/venn/shape.ts","webpack://Plots/../../../src/plots/venn/label.ts","webpack://Plots/../../../../src/plots/venn/interactions/util.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/active.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/highlight.ts","webpack://Plots/../../../../../src/plots/venn/interactions/actions/selected.ts","webpack://Plots/../../../src/plots/venn/adaptor.ts","webpack://Plots/../../../../src/plots/venn/interactions/index.ts","webpack://Plots/../../../src/plots/venn/index.ts","webpack://Plots/../../../src/plots/stock/constant.ts","webpack://Plots/../../../src/plots/stock/utils.ts","webpack://Plots/../../../src/plots/stock/adaptor.ts","webpack://Plots/../../../src/plots/stock/index.ts","webpack://Plots/../../../src/plots/funnel/constant.ts","webpack://Plots/../../../../src/plots/funnel/geometries/common.ts","webpack://Plots/../../../../src/plots/funnel/geometries/basic.ts","webpack://Plots/../../../../src/plots/funnel/geometries/compare.ts","webpack://Plots/../../../../src/plots/funnel/geometries/facet.ts","webpack://Plots/../../../../src/plots/funnel/geometries/dynamic-height.ts","webpack://Plots/../../../src/plots/funnel/adaptor.ts","webpack://Plots/../../../src/plots/funnel/index.ts","webpack://Plots/../../../src/plots/liquid/utils.ts","webpack://Plots/../../../src/plots/liquid/adaptor.ts","webpack://Plots/../../../src/plots/liquid/constants.ts","webpack://Plots/../../../../src/plots/liquid/shapes/liquid.ts","webpack://Plots/../../../src/plots/liquid/index.ts","webpack://Plots/../../../src/plots/bullet/utils.ts","webpack://Plots/../../../src/plots/bullet/adaptor.ts","webpack://Plots/../../../src/plots/bullet/constant.ts","webpack://Plots/../../../src/plots/bullet/index.ts","webpack://Plots/../../../src/utils/hierarchy/util.ts","webpack://Plots/../../../src/plots/sunburst/constant.ts","webpack://Plots/../../../src/interactions/actions/drill-down.ts","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/round.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/dice.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/partition.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://Plots/../../../src/utils/hierarchy/partition.ts","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/cluster.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/pack/enclose.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/array.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/pack/siblings.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/accessors.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/constant.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/pack/index.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/stratify.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/tree.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/slice.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/index.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/binary.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://Plots/../../node_modules/@antv/g2plot/node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://Plots/../../../src/utils/hierarchy/treemap.ts","webpack://Plots/../../../src/plots/sunburst/utils.ts","webpack://Plots/../../../src/plots/sunburst/adaptor.ts","webpack://Plots/../../src/interactions/drill-down.ts","webpack://Plots/../../../src/plots/sunburst/index.ts","webpack://Plots/../../../src/plots/gauge/constants.ts","webpack://Plots/../../../src/plots/gauge/utils.ts","webpack://Plots/../../../src/plots/gauge/adaptor.ts","webpack://Plots/../../../../src/plots/gauge/shapes/indicator.ts","webpack://Plots/../../../../src/plots/gauge/shapes/meter-gauge.ts","webpack://Plots/../../../src/plots/gauge/index.ts","webpack://Plots/../../../src/plots/waterfall/constant.ts","webpack://Plots/../../../src/plots/waterfall/utils.ts","webpack://Plots/../../../src/plots/waterfall/adaptor.ts","webpack://Plots/../../../src/plots/waterfall/shape.ts","webpack://Plots/../../../src/plots/waterfall/index.ts","webpack://Plots/../../../src/plots/radial-bar/utils.ts","webpack://Plots/../../../src/plots/radial-bar/adaptor.ts","webpack://Plots/../../../src/plots/radial-bar/constant.ts","webpack://Plots/../../../src/plots/radial-bar/index.ts","webpack://Plots/../../../src/plots/bidirectional-bar/constant.ts","webpack://Plots/../../../src/plots/bidirectional-bar/utils.ts","webpack://Plots/../../../src/plots/bidirectional-bar/adaptor.ts","webpack://Plots/../../../src/plots/bidirectional-bar/index.ts","webpack://Plots/../../../src/plots/treemap/utils.ts","webpack://Plots/../../../src/plots/treemap/adaptor.ts","webpack://Plots/../../../src/plots/treemap/constant.ts","webpack://Plots/../../../src/plots/treemap/index.ts","webpack://Plots/../../../../src/plots/sankey/sankey/align.ts","webpack://Plots/../../../../src/plots/sankey/sankey/helper.ts","webpack://Plots/../../../../src/plots/sankey/sankey/sankey.ts","webpack://Plots/../../../src/plots/sankey/layout.ts","webpack://Plots/../src/min-by.ts","webpack://Plots/../../../src/plots/sankey/circle.ts","webpack://Plots/../../../src/plots/sankey/helper.ts","webpack://Plots/../../../src/plots/sankey/constant.ts","webpack://Plots/../../../src/plots/sankey/adaptor.ts","webpack://Plots/../../../../../src/plots/sankey/interactions/actions/node-drag.ts","webpack://Plots/../../../../src/plots/sankey/interactions/node-draggable.ts","webpack://Plots/../../../src/plots/sankey/index.ts","webpack://Plots/../../../src/utils/transform/chord.ts","webpack://Plots/../../../src/plots/chord/constant.ts","webpack://Plots/../../../src/plots/chord/adaptor.ts","webpack://Plots/../../../src/plots/chord/index.ts","webpack://Plots/../../../src/utils/hierarchy/pack.ts","webpack://Plots/../../../src/plots/circle-packing/utils.ts","webpack://Plots/../../../src/plots/circle-packing/constant.ts","webpack://Plots/../../../src/plots/circle-packing/adaptor.ts","webpack://Plots/../../../src/plots/circle-packing/index.ts","webpack://Plots/../../../src/plots/mix/utils.ts","webpack://Plots/../../src/plugin/index.ts","webpack://Plots/../../../src/plots/mix/adaptor.ts","webpack://Plots/../../../../src/plots/mix/interactions/association.ts","webpack://Plots/../../../../src/plots/mix/interactions/utils.ts","webpack://Plots/../../../src/plots/mix/index.ts","webpack://Plots/../../../src/plots/facet/adaptor.ts","webpack://Plots/../../../src/plots/facet/utils.ts","webpack://Plots/../../../src/plots/facet/constant.ts","webpack://Plots/../src/lab.ts","webpack://Plots/../../../src/plots/facet/index.ts","webpack://Plots/../../src/locales/zh_CN.ts","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack://Plots/./src/util/render.ts","webpack://Plots/./src/util/createNode.ts","webpack://Plots/./src/util/utils.ts","webpack://Plots/./src/hooks/useChart.ts","webpack://Plots/./src/util/getChart.ts","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://Plots/./src/errorBoundary/index.tsx","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack://Plots/../../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://Plots/../src/web/Svg.tsx","webpack://Plots/../src/shared/uid.ts","webpack://Plots/../src/web/ContentLoader.tsx","webpack://Plots/../src/web/presets/FacebookStyle.tsx","webpack://Plots/./src/util/createLoading.tsx","webpack://Plots/./src/components/area/index.tsx","webpack://Plots/./src/components/bar/index.tsx","webpack://Plots/./src/components/bullet/index.tsx","webpack://Plots/./src/components/column/index.tsx","webpack://Plots/./src/components/funnel/index.tsx","webpack://Plots/./src/components/histogram/index.tsx","webpack://Plots/./src/components/line/index.tsx","webpack://Plots/./src/components/box/index.tsx","webpack://Plots/./src/components/liquid/index.tsx","webpack://Plots/./src/components/heatmap/index.tsx","webpack://Plots/./src/components/pie/index.tsx","webpack://Plots/./src/components/gauge/index.tsx","webpack://Plots/./src/components/progress/index.tsx","webpack://Plots/./src/components/radar/index.tsx","webpack://Plots/./src/components/ring-progress/index.tsx","webpack://Plots/./src/components/rose/index.tsx","webpack://Plots/./src/components/chord/index.tsx","webpack://Plots/./src/components/scatter/index.tsx","webpack://Plots/./src/components/tiny-area/index.tsx","webpack://Plots/./src/components/tiny-column/index.tsx","webpack://Plots/./src/components/dual-axes/index.tsx","webpack://Plots/./src/components/tiny-line/index.tsx","webpack://Plots/./src/components/waterfall/index.tsx","webpack://Plots/./src/components/word-cloud/index.tsx","webpack://Plots/./src/components/sunburst/index.tsx","webpack://Plots/./src/components/stock/index.tsx","webpack://Plots/./src/components/radial-bar/index.tsx","webpack://Plots/./src/components/sankey/index.tsx","webpack://Plots/./src/components/treemap/index.tsx","webpack://Plots/./src/components/violin/index.tsx","webpack://Plots/./src/components/venn/index.tsx","webpack://Plots/./src/components/circle-packing/index.tsx","webpack://Plots/./src/components/facet/index.tsx","webpack://Plots/./src/components/mix/index.tsx","webpack://Plots/./src/components/bidirectional-bar/index.tsx","webpack://Plots/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Plots\"] = factory(require(\"react\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Plots\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__787__, __WEBPACK_EXTERNAL_MODULE__156__) => {\nreturn ","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","module.exports = __WEBPACK_EXTERNAL_MODULE__787__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n\n  BEFORE_RENDER_LABEL = 'beforerenderlabel',\n  AFTER_RENDER_LABEL = 'afterrenderlabel',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n",null,"import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n",null,"import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n",null,"import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,null,null,null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"\\\\d\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  let dateTZ: Date;\n  if (dateInfo.timezoneOffset == null) {\n    dateTZ = new Date(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute,\n      dateInfo.second,\n      dateInfo.millisecond\n    );\n    const validateFields: [\n      \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n      \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n    ][] = [\n      [\"month\", \"getMonth\"],\n      [\"day\", \"getDate\"],\n      [\"hour\", \"getHours\"],\n      [\"minute\", \"getMinutes\"],\n      [\"second\", \"getSeconds\"]\n    ];\n    for (let i = 0, len = validateFields.length; i < len; i++) {\n      // Check to make sure the date field is within the allowed range. Javascript dates allows values\n      // outside the allowed range. If the values don't match the value was invalid\n      if (\n        specifiedFields[validateFields[i][0]] &&\n        dateInfo[validateFields[i][0]] !== dateTZ[validateFields[i][1]]()\n      ) {\n        return null;\n      }\n    }\n  } else {\n    dateTZ = new Date(\n      Date.UTC(\n        dateInfo.year,\n        dateInfo.month,\n        dateInfo.day,\n        dateInfo.hour,\n        dateInfo.minute - dateInfo.timezoneOffset,\n        dateInfo.second,\n        dateInfo.millisecond\n      )\n    );\n\n    // We can't validate dates in another timezone unfortunately. Do a basic check instead\n    if (\n      dateInfo.month > 11 ||\n      dateInfo.month < 0 ||\n      dateInfo.day > 31 ||\n      dateInfo.day < 1 ||\n      dateInfo.hour > 23 ||\n      dateInfo.hour < 0 ||\n      dateInfo.minute > 59 ||\n      dateInfo.minute < 0 ||\n      dateInfo.second > 59 ||\n      dateInfo.second < 0\n    ) {\n      return null;\n    }\n  }\n\n  // Don't allow invalid dates\n\n  return dateTZ;\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n    \n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n",null,"import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n      iconStyle: {\n        fill: styleSheet.axisDescriptionIconFillColor\n      }\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  tooltip (tooltip crosshairs  coordinate )\n    const tooltipController = this.controllers.find((c) => c.name === 'tooltip');\n    tooltipController.update();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text', 'axis-description'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const theme = this.view.getTheme();\n      const markerDefaultCfg = get(theme, ['components', 'tooltip', 'marker'], {});\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...(isFunction(marker) ? { ...markerDefaultCfg, ...marker(item) } : marker),\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[] = [];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = [];\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GEOMETRY_LIFE_CIRCLE, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  Geometry .  true ,  timeout  */\n  useDeferredLabel?: boolean | number;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n  protected useDeferredLabel?: null | number;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n      useDeferredLabel,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n    this.useDeferredLabel = useDeferredLabel ? (typeof useDeferredLabel === 'number' ? useDeferredLabel : Infinity) : null;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      const deferred = this.useDeferredLabel;\n      const callback = (() => this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate)).bind(this);\n      if (typeof deferred === 'number') {\n        // Use `requestIdleCallback` to render labels in idle time (like react fiber)\n        const timeout = (typeof deferred === 'number' && deferred !== Infinity) ? deferred : 0;\n        if (!window.requestIdleCallback) {\n          setTimeout(callback, timeout);\n        } else {\n          const options = timeout && timeout !== Infinity ? { timeout } : undefined;\n          window.requestIdleCallback(callback, options);\n        }\n      } else {\n        callback();\n      }\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private async renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_RENDER_LABEL);\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    await geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    // Store labels for every element.\n    const elementLabels = new Map<Element, Set<IGroup>>();\n    each(labelsMap, (labelGroup: IGroup, labelGroupId: string) => {\n      const labelChildren = labelGroup.getChildren() || [];\n      for (let j = 0; j < labelChildren.length; j++) {\n        const labelShape = labelChildren[j];\n        const element = this.elementsMap[labelShape.get('elementId') || labelGroupId.split(' ')[0]];\n        if (element) {\n          labelShape.cfg.name = ['element', 'label'];\n          labelShape.cfg.element = element;\n          const labels = elementLabels.get(element) || new Set();\n          labels.add(labelGroup);\n          elementLabels.set(element, labels);\n        }\n      }\n    });\n    for (const [element, labels] of elementLabels.entries()) {\n      element.labelShape = [...labels];\n    }\n\n    this.emit(GEOMETRY_LIFE_CIRCLE.AFTER_RENDER_LABEL);\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: { rotate?: number;[key: string]: any },\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup && labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n\n  return { x: 0, y: 0, width: 0, height: 0, rotation: 0 };\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  (fromShape.getChildren() || []).forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n  /**\n   * \n   */\n  public async render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    const shapesMap = {};\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          shapesMap[item.id] = this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // [todo] Move layout into Worker.\n      // step 2:  labels\n      await this.doLayout(items, shapes, shapesMap);\n\n      // step 3.1:  labelLine\n      this.renderLabelLine(items, shapesMap);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items, shapesMap);\n      // step 4:  label\n      this.adjustLabel(items, shapesMap);\n    }\n\n    // \n    const lastShapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          // If container has been destroyed, no need to render labels.\n          if (this.container.destroyed) return;\n          this.container.add(shape);\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.shapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup): IGroup {\n    const { id, elementId, data, mappingData, coordinate, animate, content, capture } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      capture,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    return labelGroup;\n  }\n\n  // typelabel\n  private async doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>, shapesMap: Record<string, IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      await Promise.all(layouts.map((layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (!layoutFn) return;\n\n        const labelShapes = [];\n        const geometryShapes = [];\n        each(shapesMap, (labelShape, id) => {\n          labelShapes.push(labelShape);\n          geometryShapes.push(shapes[labelShape.get('elementId')]);\n        });\n        // [todo] Refactor more layout into Worker.\n        return layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n      }));\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[], shapesMap) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[], shapesMap) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public async render(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mappingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    await labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.2.7';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n    /** icon */\n    axisDescriptionIconFillColor: WHITE_COLORS[85],\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      //    y \n      const isReflectYTransposed = (coordinate.isTransposed && coordinate.isReflect('y'));\n      const bump = isReflectYTransposed ? 0 : 1;\n      const opposite = (r: number) => isReflectYTransposed ? -r : r;\n\n      path.push(['M', p0.x, p1.y + opposite(r1)]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, bump, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, bump, p1.x, p1.y + opposite(r2)]);\n      path.push(['L', p1.x, p0.y - opposite(r3)]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, bump, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, bump, p0.x, p0.y - opposite(r4)]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup({\n        name: 'interval-group',\n      });\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n        fillOpacity: 1,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { Point } from '../dependents';\n\ntype Vec2 = [number, number];\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\nfunction dot(a, b) {\n  return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n}\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Item): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Item) {\n  return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function intersect(box1: Item, box2: Item, margin: number = 0) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2, margin);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","import { isFunction } from '@antv/util';\n\nclass MyWorker {\n  queue: any[] = [];\n  worker: Worker;\n\n  constructor(url) {\n    this.worker = new Worker(url);\n    this.worker.onmessage = (e: MessageEvent) => {\n      this.queue.shift()?.resolve(e);\n    };\n    this.worker.onmessageerror = (e: MessageEvent) => {\n      console.warn('[AntV G2] Web worker is not available');\n      this.queue.shift()?.reject(e);\n    };\n  }\n\n  post(params, onError?: () => any): Promise<MessageEvent> {\n    return new Promise((resolve, reject) => {\n      this.queue.push({ resolve, reject });\n      try {\n        this.worker.postMessage(params);\n      } catch (e) {\n        console.warn('[AntV G2] Web worker is not available');\n        isFunction(onError) && onError();\n      }\n    });\n  }\n\n  destroy() {\n    this.worker.terminate();\n  }\n}\n\nexport function createWorker(f: any) {\n  if (typeof window === 'undefined') return;\n\n  let blob;\n  try {\n    blob = new Blob([f.toString()], { type: 'application/javascript' });\n  } catch (e) {\n    // @ts-ignore\n    blob = new window.BlobBuilder();\n    blob.append(f.toString());\n    blob = blob.getBlob();\n  }\n\n  return new MyWorker(URL.createObjectURL(blob));\n}\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","const onmessage = function (e) {\n  type Item = {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n    rotation?: number;\n    visible?: boolean;\n  };\n\n  // Copy from src/util/collision-detect.ts\n  function generateUtils() {\n    type Vec2 = [number, number];\n\n    type Point = { x: number; y: number };\n\n    /**\n     * \n     */\n    type Projection = { min: number; max: number };\n\n    function dot(a, b) {\n      return (a[0] || 0) * (b[0] || 0) + (a[1] || 0) * (b[1] || 0) + (a[2] || 0) * (b[2] || 0);\n    }\n    /**\n     * 1. \n     */\n    function getAxes(points: Point[] /**  */): Vec2[] {\n      //   , \n      if (points.length > 4) {\n        return [];\n      }\n      // \n      const vector = (start: Point, end: Point): Vec2 => {\n        return [end.x - start.x, end.y - start.y];\n      };\n\n      //   2 : A -> B, B -> C\n      const AB = vector(points[0], points[1]);\n      const BC = vector(points[1], points[2]);\n\n      return [AB, BC];\n    }\n\n    /**\n     * \n     * \n     */\n    function rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n      const { x, y } = point;\n      return {\n        x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n        y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n      };\n    }\n\n    /**\n     * @private\n     * \n     *\n     * @param {Object} box\n     */\n    function getRectPoints(box: Item): Point[] {\n      const points = [\n        { x: box.x, y: box.y },\n        { x: box.x + box.width, y: box.y },\n        { x: box.x + box.width, y: box.y + box.height },\n        { x: box.x, y: box.y + box.height },\n      ];\n\n      const rotation = box.rotation;\n      if (rotation) {\n        return [\n          rotateAtPoint(points[0], rotation, points[0]),\n          rotateAtPoint(points[1], rotation, points[0]),\n          rotateAtPoint(points[2], rotation, points[0]),\n          rotateAtPoint(points[3], rotation, points[0]),\n        ];\n      }\n\n      return points;\n    }\n\n    /**\n     * 2. \n     *\n     * \n     * 1 x1 * x2 + y1 * y2\n     */\n    function getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n      // \n      if (points.length > 4) {\n        return { min: 0, max: 0 };\n      }\n\n      const scalars = [];\n      points.forEach((point) => {\n        scalars.push(dot([point.x, point.y], axis));\n      });\n\n      return { min: Math.min.apply(null, scalars), max: Math.max.apply(null, scalars) };\n    }\n\n    function isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n      return projection1.max > projection2.min && projection1.min < projection2.max;\n    }\n\n    function isValidNumber(d: number) {\n      return typeof d === 'number' && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n    }\n\n    function isValidBox(box: Item) {\n      return ['x', 'y', 'width', 'height'].every(attr => isValidNumber(box[attr]))\n    }\n\n    function isIntersectRect(box1: Item, box2: Item, margin: number = 0): boolean {\n      return !(\n        box2.x > box1.x + box1.width + margin ||\n        box2.x + box2.width < box1.x - margin ||\n        box2.y > box1.y + box1.height + margin ||\n        box2.y + box2.height < box1.y - margin\n      );\n    }\n    function intersect(box1: Item, box2: Item, margin: number = 0) {\n      if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n      // Quick detect, if rotation is null or zero.\n      if (!box1.rotation && !box2.rotation) {\n        return isIntersectRect(box1, box2, margin);\n      }\n\n      //  4 \n      const rect1Points = getRectPoints(box1);\n      const rect2Points = getRectPoints(box2);\n\n      // \n      const axes = getAxes(rect1Points).concat(getAxes(rect2Points));\n\n      for (let i = 0; i < axes.length; i++) {\n        const axis = axes[i];\n        const projection1 = getProjection(rect1Points, axis);\n        const projection2 = getProjection(rect2Points, axis);\n\n        if (!isProjectionOverlap(projection1, projection2)) return false;\n      }\n\n      return true;\n    }\n    return { intersect }\n  }\n  const { intersect } = generateUtils();\n\n  // Label layouts.\n  function hideOverlap(items: Item[]) {\n    const boxes = items.slice();\n    for (let i = 0; i < boxes.length; i++) {\n      const box1 = boxes[i];\n      if (box1.visible) {\n        for (let j = i + 1; j < boxes.length; j++) {\n          const box2 = boxes[j];\n          if (box1 !== box2 && box2.visible) {\n            if (intersect(box1, box2)) {\n              box2.visible = false;\n            }\n          }\n        }\n      }\n    }\n    return boxes;\n  }\n\n  const methods = {\n    'hide-overlap': hideOverlap,\n  }\n\n  // Main\n  try {\n    const eventData = JSON.parse(e.data);\n    if (!eventData || !eventData.type || !methods[eventData.type]) return;\n\n    const { type, items } = eventData;\n    const result = methods[type](items);\n    self.postMessage(result);\n  } catch (e) {\n    throw e;\n  }\n}\n\nconst code = `\n   self.onmessage = ${onmessage.toString()}\n`\nexport { code };\n","import { get, each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { intersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getLabelBackgroundInfo } from '../util';\nimport { createWorker } from '../util/createWorker';\nimport { code as layoutCode } from './worker/hide-overlap';\n\ntype Item = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n  rotation?: number;\n  visible?: boolean;\n};\n\nconst layout = (items: Item[]): Item[] => {\n  const boxes = items.slice();\n  for (let i = 0; i < boxes.length; i++) {\n    const box1 = boxes[i];\n    if (box1.visible) {\n      for (let j = i + 1; j < boxes.length; j++) {\n        const box2 = boxes[j];\n        if (box1 !== box2 && box2.visible) {\n          if (intersect(box1, box2)) {\n            box2.visible = false;\n          }\n        }\n      }\n    }\n  }\n  return boxes;\n};\n\nconst cache: Map<string, any> = new Map();\nconst worker = createWorker(layoutCode);\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport async function hideOverlap(\n  labelItems: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const boxes = labels.map((d, idx) => ({\n    ...getLabelBackgroundInfo(d, labelItems[idx], get(labelItems[idx], 'background.padding')),\n    visible: true,\n  }));\n  const memoKey = JSON.stringify(boxes);\n  const cb = (items: Item[]) => {\n    cache.set(memoKey, items);\n    each(items, ({ visible }, idx) => {\n      const labelShape = labels[idx];\n      if (visible) {\n        labelShape?.show();\n      } else {\n        labelShape?.hide();\n      }\n    });\n    return items;\n  };\n  if (cache.get(memoKey)) {\n    cb(cache.get(memoKey));\n  } else if (worker) {\n    // Do layout in worker.\n    try {\n      const params = JSON.stringify({ type: 'hide-overlap', items: boxes });\n      const res = await worker.post(params, () => cb(layout(boxes)));\n      cb(Array.isArray(res.data) ? res.data : []);\n    } catch (e) {\n      console.error(e);\n      cb(layout(boxes));\n    }\n  } else {\n    // Normal layout in main thread.\n    cb(layout(boxes));\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  //  startAngle, endAngle  endAngle = Math.PI * 1.5 \n  if (isNumberEqual(endAngle, Math.PI * -0.5) && !isNumberEqual(startAngle, endAngle)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nexport function getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    let done = false;\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n          doWhat();\n          });\n          done = true;\n        }\n      });\n    }\n\n    if (!done) {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.round(min * (xTickCount - 1));\n    const maxIndex = Math.round(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport View from '../../chart/view';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n  /**\n   * \n   */\n  public zoomIn() {\n    this.setCursor('zoom-in');\n  }\n  /**\n   * \n   */\n  public zoomOut() {\n    this.setCursor('zoom-out');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { deepMix } from '@antv/util';\nimport { HtmlTooltip } from '../../../../dependents';\nimport Action from '../../base';\nimport { getDelegationObject } from '../../util';\nimport cx from 'classnames';\n\nconst AXIS_DESCRIPTION_TOOLTIP = 'aixs-description-tooltip';\n\nclass AxisDescription extends Action {\n  private tooltip;\n\n  public show() {\n    const context = this.context;\n    const { axis } = getDelegationObject(context);\n    const { description, text, descriptionTooltipStyle } = axis.cfg.title;\n    const { x, y } = context.event;\n    if (!this.tooltip) {\n      this.renderTooltip();\n    }\n    this.tooltip.update({\n      title: text || '',\n      customContent: () => {\n        return `\n          <div class=\"${TOOLTIP_CSS_CONST.CONTAINER_CLASS}\" style={${descriptionTooltipStyle}}>\n            <div class=\"${TOOLTIP_CSS_CONST.TITLE_CLASS}\">\n              ${description}\n            </div>\n          </div>\n        `;\n      },\n      x,\n      y,\n    });\n    this.tooltip.show();\n  }\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  public hide() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  public renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      containerId: AXIS_DESCRIPTION_TOOLTIP,\n      domStyles: {\n        ...deepMix(\n          {},\n          {\n            // tooltip tip  50%\n            [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n              'max-width': '50%',\n              padding: '10px',\n              'line-height': '15px',\n              'font-size': '12px',\n              color: 'rgba(0, 0, 0, .65)',\n            },\n            [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n              'word-break': 'break-all',\n              'margin-bottom': '3px',\n            },\n          }\n        ),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false);\n    this.tooltip = tooltip;\n  }\n}\nexport default AxisDescription;\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  //    toAttrs \n  if (cfg.toAttrs) {\n    element.attr(cfg.toAttrs);\n  }\n\n  // \n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n","import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n","import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls, useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n    useDeferredLabel,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: {\n              dodgePadding,\n              intervalPadding,\n              minColumnWidth,\n              maxColumnWidth,\n              background: columnBackground,\n              useDeferredLabel,\n            },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip, useDeferredLabel } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n            args: { useDeferredLabel },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, options?: BrushCfg) {\n  const { mask, isStartEnable } = options || {};\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mousemove', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          {\n            trigger: 'plot:mousemove',\n            action: 'cursor:default',\n            isEnable: (context) => (isStartEnable ? !isStartEnable(context) : false),\n          },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isStartEnable || isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair', isEnable: isStartEnable || (() => true) },\n          { trigger: 'mask:mouseenter', action: 'cursor:move', isEnable: isStartEnable || (() => true) },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable:\n              isStartEnable ||\n              ((context) => {\n                //  mask \n                return !context.isInShape('mask');\n              }),\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { isPercent } = options;\n    let { xField, yField, xAxis, yAxis } = options;\n    [xField, yField] = [yField, xField];\n    [xAxis, yAxis] = [yAxis, xAxis];\n    const switchedFieldOptions = { ...options, xField, yField, yAxis, xAxis };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // , datum existed.\n            const text = datum\n              ? datum[colorField]\n              : !isNil(titleOpt.content)\n              ? titleOpt.content\n              : i18n.get(['statistic', 'total']);\n            const metaFormatter = get(meta, [colorField, 'formatter']) || ((v) => v);\n            return metaFormatter(text);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n",null,"import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n\n/**\n *  key    key  tooltip \n * @param values \n * @param field \n * @param index \n * @returns string\n */\nfunction getSeriesFieldKey(values: number[], field: string, index: number): string {\n  return values.length > 1 ? `${field}_${index}` : `${field}`;\n}\n\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    const rangeValues = [item[rangeField]].flat();\n    rangeValues.sort((a: number, b: number) => a - b);\n    rangeValues.forEach((d: number, i: number) => {\n      const range = i === 0 ? d : rangeValues[i] - rangeValues[i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n\n    //  title * measure\n    const measureValues = [item[measureField]].flat();\n    measureValues.forEach((d: number, i: number) => {\n      ds.push({\n        mKey: getSeriesFieldKey(measureValues, measureField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n\n    //  title * target\n    const targetValues = [item[targetField]].flat();\n    targetValues.forEach((d: number, i: number) => {\n      ds.push({\n        tKey: getSeriesFieldKey(targetValues, targetField, i),\n        [xField]: xField ? item[xField] : String(index),\n        [targetField]: d,\n      });\n    });\n\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  };\n\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  const nodes = layoutData.nodes\n    .map((node) => {\n      const { x0, x1, y0, y1 } = node;\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      node.x = [x0, x1, x1, x0];\n      node.y = [y0, y0, y1, y1];\n\n      return node;\n    })\n    .filter((node) => {\n      return node.name !== null;\n    });\n\n  const links = layoutData.links\n    .map((edge) => {\n      const { source, target } = edge;\n      const sx = source.x1;\n      const tx = target.x0;\n      edge.x = [sx, sx, tx, tx];\n      const offset = edge.width / 2;\n      edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n\n      return edge;\n    })\n    .filter((edge) => {\n      const { source, target } = edge;\n      return source.name !== null && target.name !== null;\n    });\n\n  return { nodes, links };\n}\n",null,"import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","import type * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport type { Root } from 'react-dom/client';\n\n// Let compiler not to search module usage\nconst fullClone = {\n  ...ReactDOM,\n} as typeof ReactDOM & {\n  __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED?: {\n    usingClientEntryPoint?: boolean;\n  };\n  createRoot?: CreateRoot;\n};\n\ntype CreateRoot = (container: ContainerType) => Root;\n\nconst { version, render: reactRender, unmountComponentAtNode } = fullClone;\n\nlet createRoot: CreateRoot;\ntry {\n  const mainVersion = Number((version || '').split('.')[0]);\n  if (mainVersion >= 18) {\n    ({ createRoot } = fullClone);\n  }\n} catch (e) {\n  // Do nothing;\n}\n\nfunction toggleWarning(skip: boolean) {\n  const { __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED } = fullClone;\n\n  if (\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED &&\n    typeof __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED === 'object'\n  ) {\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint = skip;\n  }\n}\n\nconst MARK = '__rc_react_root__';\n\n// ========================== Render ==========================\ntype ContainerType = (Element | DocumentFragment) & {\n  [MARK]?: Root;\n};\n\nfunction modernRender(node: React.ReactNode, container: ContainerType) {\n  toggleWarning(true);\n  const root = container[MARK] || createRoot(container);\n  toggleWarning(false);\n\n  root.render(node);\n\n  container[MARK] = root;\n}\n\nfunction legacyRender(node: React.ReactElement, container: ContainerType) {\n  reactRender(node, container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _r(node: React.ReactElement, container: ContainerType) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyRender(node, container);\n  }\n}\n\nexport function render(node: React.ReactElement, container: ContainerType) {\n  if (createRoot) {\n    modernRender(node, container);\n    return;\n  }\n\n  legacyRender(node, container);\n}\n\n// ========================= Unmount ==========================\nasync function modernUnmount(container: ContainerType) {\n  // Delay to unmount to avoid React 18 sync warning\n  return Promise.resolve().then(() => {\n    container[MARK]?.unmount();\n\n    delete container[MARK];\n  });\n}\n\nfunction legacyUnmount(container: ContainerType) {\n  unmountComponentAtNode(container);\n}\n\n/** @private Test usage. Not work in prod */\nexport function _u(container: ContainerType) {\n  if (process.env.NODE_ENV !== 'production') {\n    return legacyUnmount(container);\n  }\n}\n\nexport async function unmount(container: ContainerType) {\n  if (createRoot !== undefined) {\n    // Delay to unmount to avoid React 18 sync warning\n    return modernUnmount(container);\n  }\n\n  legacyUnmount(container);\n}\n","import React from 'react';\nimport { render } from './render';\n\nconst createNode = (children: React.ReactElement, type?: string) => {\n  const mountPoint = document.createElement('div');\n  if (type === 'tooltip') {\n    mountPoint.className = 'g2-tooltip';\n  }\n  render(children, mountPoint);\n  return mountPoint;\n};\n\nexport default createNode;\n","/* eslint-disable no-restricted-syntax */\n// \nexport const isType = (value: any, type: string): boolean => {\n  const { toString } = {};\n  return toString.call(value) === `[object ${type}]`;\n};\n\nexport const clone = (source: Object) => {\n  if (!source) {\n    return source;\n  }\n  const target = {};\n  // eslint-disable-next-line guard-for-in\n  for (const k in source) {\n    target[k] = source[k];\n  }\n  return target;\n};\n\nexport const getType = (n: Object) => {\n  return Object.prototype.toString.call(n).slice(8, -1);\n};\n\n/**\n * \n * @param source \n */\nexport const deepClone = (source: Object | undefined) => {\n  if (!source || typeof source !== 'object') {\n    return source;\n  }\n\n  let target;\n  if (Array.isArray(source)) {\n    target = source.map((item) => deepClone(item));\n  } else {\n    target = {};\n    Object.keys(source).forEach((key) => {\n      return (target[key] = deepClone(source[key]));\n    });\n  }\n\n  return target;\n};\n\n/**\n *  undefined\n */\nexport const hasPath = (source: any, path: string[]) => {\n  let current = source;\n  for (let i = 0; i < path.length; i += 1) {\n    if (current?.[path[i]]) {\n      current = current[path[i]];\n    } else {\n      current = undefined;\n      break;\n    }\n  }\n  return current;\n};\n\n/**\n *  params \n */\nexport const setPath = (source: object, path: string[], value: any) => {\n  if (!source) {\n    return source;\n  }\n  let o = source;\n  path.forEach((key: string, idx: number) => {\n    // \n    if (idx < path.length - 1) {\n      o = o[key];\n    } else {\n      o[key] = value;\n    }\n  });\n  return source;\n};\n","import { useRef, useEffect } from 'react';\nimport { isEqual, get } from '@antv/util';\nimport { G2 } from '@antv/g2plot';\nimport createNode from '../util/createNode';\nimport { hasPath, isType, deepClone, clone, setPath } from '../util';\nimport { BasePlot, BaseConfig, AllBaseConfig } from '../interface';\n\ninterface Base extends BaseConfig<AllBaseConfig> {\n  data?: any;\n  value?: number;\n  /** GaugeLiquidProgressRingProgress */\n  percent?: number;\n}\n\nexport default function useInit<T extends BasePlot, U extends Base>(ChartClass: any, config: U) {\n  const chart = useRef<T>();\n  const chartOptions = useRef<U>();\n  const container = useRef<HTMLDivElement>(null);\n  const { onReady, onEvent } = config;\n\n  /**\n   * Get data base64\n   * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n   * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n   */\n  const toDataURL = (type = 'image/png', encoderOptions?: number) => {\n    return chart.current?.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n  };\n\n  /**\n   * Download Iamge\n   * @param {string} name A name of image\n   * @param {string} type A DOMString indicating the image format. The default format type is image/png.\n   * @param {number} encoderOptions A Number between 0 and 1 indicating the image quality\n   */\n  const downloadImage = (name = 'download', type = 'image/png', encoderOptions?: number): string => {\n    let imageName = name;\n    if (name.indexOf('.') === -1) {\n      imageName = `${name}.${type.split('/')[1]}`;\n    }\n    const base64 = chart.current?.chart.canvas.cfg.el.toDataURL(type, encoderOptions);\n    let a: HTMLAnchorElement | null = document.createElement('a');\n    a.href = base64;\n    a.download = imageName;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    a = null;\n    return imageName;\n  };\n\n  const reactDomToString = (source: U, path: string[], type?: string) => {\n    const statisticCustomHtml = hasPath(source, path);\n    setPath(source, path, (...arg: any[]) => {\n      const statisticDom = isType(statisticCustomHtml, 'Function') ? statisticCustomHtml(...arg) : statisticCustomHtml;\n      if (isType(statisticDom, 'String') || isType(statisticDom, 'Number') || isType(statisticDom, 'HTMLDivElement')) {\n        return statisticDom;\n      }\n      return createNode(statisticDom, type);\n    });\n  };\n\n  const processConfig = () => {\n    // statistic\n    if (hasPath(config, ['statistic', 'content', 'customHtml'])) {\n      reactDomToString(config, ['statistic', 'content', 'customHtml']);\n    }\n    if (hasPath(config, ['statistic', 'title', 'customHtml'])) {\n      reactDomToString(config, ['statistic', 'title', 'customHtml']);\n    }\n    // tooltip\n    if (typeof config.tooltip === 'object') {\n      if (hasPath(config, ['tooltip', 'container'])) {\n        reactDomToString(config, ['tooltip', 'container'], 'tooltip');\n      }\n      if (hasPath(config, ['tooltip', 'customContent'])) {\n        reactDomToString(config, ['tooltip', 'customContent'], 'tooltip');\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (chart.current && !isEqual(chartOptions.current, config)) {\n      let changeData = false;\n      if (chartOptions.current) {\n        //  options  data value  percent \n        const {\n          data: currentData,\n          value: currentValue,\n          percent: currentPercent,\n          ...currentConfig\n        } = chartOptions.current;\n        const { data: inputData, value: inputValue, percent: inputPercent, ...inputConfig } = config;\n        changeData = isEqual(currentConfig, inputConfig);\n      }\n      chartOptions.current = deepClone(config);\n      if (changeData && get(config, 'chartType') !== 'Mix') {\n        let changeType = 'data';\n        const typeMaps = ['percent']; //  data  RingProgress\n        const currentKeys = Object.keys(config);\n        typeMaps.forEach((type: string) => {\n          if (currentKeys.includes(type)) {\n            changeType = type;\n          }\n        });\n        chart.current.changeData(config?.[changeType] || []);\n      } else {\n        processConfig();\n        chart.current.update(config);\n      }\n    }\n  }, [config]);\n\n  useEffect(() => {\n    if (!container.current) {\n      return () => null;\n    }\n    if (!chartOptions.current) {\n      chartOptions.current = deepClone(config);\n    }\n    processConfig();\n    const chartInstance: T = new (ChartClass as any)(container.current, {\n      ...config,\n    });\n\n    chartInstance.toDataURL = (type?: string, encoderOptions?: number) => {\n      return toDataURL(type, encoderOptions);\n    };\n    chartInstance.downloadImage = (name?: string, type?: string, encoderOptions?: number) => {\n      return downloadImage(name, type, encoderOptions);\n    };\n    chartInstance.render();\n    chart.current = clone(chartInstance) as T;\n    if (onReady) {\n      onReady(chartInstance);\n    }\n    const handler = (event: G2.Event) => {\n      if (onEvent) {\n        onEvent(chartInstance, event);\n      }\n    };\n    chartInstance.on('*', handler);\n\n    // \n    return () => {\n      if (chart.current) {\n        chart.current.destroy();\n        chart.current.off('*', handler);\n        chart.current = undefined;\n      }\n    };\n  }, []);\n\n  return {\n    chart,\n    container,\n  };\n}\n","import { isFunction } from '@antv/util';\nimport { ChartRefConfig } from '../interface';\n\n/**\n * \n */\nexport const getChart = (chartRef: ChartRefConfig | undefined, chart: any) => {\n  if (!chartRef) {\n    return;\n  }\n  if (isFunction(chartRef)) {\n    chartRef(chart);\n  } else {\n    chartRef.current = chart;\n  }\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import React, { Fragment } from 'react';\n\nclass ErrorBoundary extends React.Component<any> {\n  static getDerivedStateFromError(error: Error) {\n    return { hasError: true, error };\n  }\n\n  static getDerivedStateFromProps(nextProps: any, state: any) {\n    if (state.children !== nextProps.children) {\n      return {\n        children: nextProps.children,\n        hasError: false,\n        error: undefined,\n      };\n    }\n    return null;\n  }\n\n  state: {\n    hasError: boolean;\n    error?: Error;\n  } = {\n    hasError: false,\n  };\n\n  renderError = (e: Error) => {\n    const { errorTemplate } = this.props;\n    switch (e) {\n      default:\n        // fallback\n        return errorTemplate && typeof errorTemplate === 'function' ? (\n          errorTemplate(e)\n        ) : (\n          <h5> {e.message}</h5>\n        );\n    }\n  };\n\n  render() {\n    if (this.state.hasError) {\n      return this.renderError(this.state.error!);\n    }\n    return <Fragment>{this.props.children}</Fragment>;\n  }\n}\n\nexport default ErrorBoundary;\n","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import * as React from 'react'\n\nimport uid from '../shared/uid'\nimport { IContentLoaderProps } from './'\n\nconst SVG: React.FC<IContentLoaderProps> = ({\n  animate,\n  backgroundColor,\n  backgroundOpacity,\n  baseUrl,\n  children,\n  foregroundColor,\n  foregroundOpacity,\n  gradientRatio,\n  uniqueKey,\n  interval,\n  rtl,\n  speed,\n  style,\n  title,\n  ...props\n}) => {\n  const fixedId = uniqueKey || uid()\n  const idClip = `${fixedId}-diff`\n  const idGradient = `${fixedId}-animated-diff`\n  const idAria = `${fixedId}-aria`\n\n  const rtlStyle = rtl ? { transform: 'scaleX(-1)' } : null\n  const keyTimes = `0; ${interval}; 1`\n  const dur = `${speed}s`\n\n  return (\n    <svg\n      aria-labelledby={idAria}\n      role=\"img\"\n      style={{ ...style, ...rtlStyle }}\n      {...props}\n    >\n      {title ? <title id={idAria}>{title}</title> : null}\n      <rect\n        role=\"presentation\"\n        x=\"0\"\n        y=\"0\"\n        width=\"100%\"\n        height=\"100%\"\n        clipPath={`url(${baseUrl}#${idClip})`}\n        style={{ fill: `url(${baseUrl}#${idGradient})` }}\n      />\n\n      <defs role=\"presentation\">\n        <clipPath id={idClip}>{children}</clipPath>\n\n        <linearGradient id={idGradient}>\n          <stop\n            offset=\"0%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio}; ${-gradientRatio}; 1`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"50%\"\n            stopColor={foregroundColor}\n            stopOpacity={foregroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`${-gradientRatio / 2}; ${-gradientRatio / 2}; ${1 +\n                  gradientRatio / 2}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n\n          <stop\n            offset=\"100%\"\n            stopColor={backgroundColor}\n            stopOpacity={backgroundOpacity}\n          >\n            {animate && (\n              <animate\n                attributeName=\"offset\"\n                values={`0; 0; ${1 + gradientRatio}`}\n                keyTimes={keyTimes}\n                dur={dur}\n                repeatCount=\"indefinite\"\n              />\n            )}\n          </stop>\n        </linearGradient>\n      </defs>\n    </svg>\n  )\n}\n\nSVG.defaultProps = {\n  animate: true,\n  backgroundColor: '#f5f6f7',\n  backgroundOpacity: 1,\n  baseUrl: '',\n  foregroundColor: '#eee',\n  foregroundOpacity: 1,\n  gradientRatio: 2,\n  id: null,\n  interval: 0.25,\n  rtl: false,\n  speed: 1.2,\n  style: {},\n  title: 'Loading...',\n}\n\nexport default SVG\n","export default (): string =>\n  Math.random()\n    .toString(36)\n    .substring(6)\n","import * as React from 'react'\n\nimport { Facebook, IContentLoaderProps } from '.'\nimport Svg from './Svg'\n\nconst ContentLoader: React.FC<IContentLoaderProps> = props =>\n  props.children ? <Svg {...props} /> : <Facebook {...props} />\n\nexport default ContentLoader\n","import * as React from 'react'\n\nimport { IContentLoaderProps } from '..'\nimport ContentLoader from '../ContentLoader'\n\nconst ReactContentLoaderFacebook: React.FC<IContentLoaderProps> = props => (\n  <ContentLoader viewBox=\"0 0 476 124\" {...props}>\n    <rect x=\"48\" y=\"8\" width=\"88\" height=\"6\" rx=\"3\" />\n    <rect x=\"48\" y=\"26\" width=\"52\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"56\" width=\"410\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"72\" width=\"380\" height=\"6\" rx=\"3\" />\n    <rect x=\"0\" y=\"88\" width=\"178\" height=\"6\" rx=\"3\" />\n    <circle cx=\"20\" cy=\"20\" r=\"20\" />\n  </ContentLoader>\n)\n\nexport default ReactContentLoaderFacebook\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\ninterface Props {\n  /**\n   * @title \n   * @description \n   * @title.en_US Theme\n   * @description.en_US Configure theme colors\n   */\n  theme?: string | object;\n  /**\n   * @title \n   * @description \n   * @title.en_US Load template\n   * @description.en_US Chart loading\n   */\n  loadingTemplate?: React.ReactElement;\n}\n\nconst ChartLoading = ({ loadingTemplate, theme = 'light' }: Props) => {\n  const renderLoading = () => {\n    if (loadingTemplate) {\n      return loadingTemplate;\n    }\n    return (\n      <ContentLoader\n        viewBox=\"0 0 400 180\"\n        width={200}\n        height={90}\n        speed={1}\n        backgroundColor={theme === 'dark' ? '#262626' : '#D9D9D9'}\n      >\n        <rect x=\"20\" y=\"5\" rx=\"0\" ry=\"0\" width=\"1\" height=\"170\" />\n        <rect x=\"20\" y=\"175\" rx=\"0\" ry=\"0\" width=\"360\" height=\"1\" />\n        <rect x=\"40\" y=\"75\" rx=\"0\" ry=\"0\" width=\"35\" height=\"100\" />\n        <rect x=\"80\" y=\"125\" rx=\"0\" ry=\"0\" width=\"35\" height=\"50\" />\n        <rect x=\"120\" y=\"105\" rx=\"0\" ry=\"0\" width=\"35\" height=\"70\" />\n        <rect x=\"160\" y=\"35\" rx=\"0\" ry=\"0\" width=\"35\" height=\"140\" />\n        <rect x=\"200\" y=\"55\" rx=\"0\" ry=\"0\" width=\"35\" height=\"120\" />\n        <rect x=\"240\" y=\"15\" rx=\"0\" ry=\"0\" width=\"35\" height=\"160\" />\n        <rect x=\"280\" y=\"135\" rx=\"0\" ry=\"0\" width=\"35\" height=\"40\" />\n        <rect x=\"320\" y=\"85\" rx=\"0\" ry=\"0\" width=\"35\" height=\"90\" />\n      </ContentLoader>\n    );\n  };\n\n  return (\n    <div\n      className=\"charts-loading-container\"\n      style={{\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        left: 0,\n        top: 0,\n        zIndex: 99,\n        backgroundColor: theme === 'dark' ? 'rgb(20, 20, 20)' : 'rgb(255, 255, 255)',\n      }}\n    >\n      {renderLoading()}\n    </div>\n  );\n};\n\nexport default ChartLoading;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Area as G2plotArea, AreaOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface AreaConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst AreaChart = forwardRef((props: AreaConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotArea, AreaConfig>(G2plotArea, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default AreaChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bar as G2plotBar, BarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface BarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BarChart = forwardRef((props: BarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBar, BarConfig>(G2plotBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Bullet as G2plotBullet, BulletOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface BulletConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BulletChart = forwardRef((props: BulletConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBullet, BulletConfig>(G2plotBullet, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BulletChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Column as G2plotColumn, ColumnOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface ColumnConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ColumnChart = forwardRef((props: ColumnConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotColumn, ColumnConfig>(G2plotColumn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ColumnChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Funnel as G2plotFunnel, FunnelOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface FunnelConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst FunnelChart = forwardRef((props: FunnelConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotFunnel, FunnelConfig>(G2plotFunnel, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default FunnelChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Histogram as G2plotHistogram, HistogramOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface HistogramConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst HistogramChart = forwardRef((props: HistogramConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotHistogram, HistogramConfig>(G2plotHistogram, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default HistogramChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Line as G2plotLine, LineOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface LineConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst LineChart = forwardRef((props: LineConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotLine, LineConfig>(G2plotLine, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default LineChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Box as G2plotBox, BoxOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface BoxConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BoxChart = forwardRef((props: BoxConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBox, BoxConfig>(G2plotBox, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BoxChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Liquid as G2plotLiquid, LiquidOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface LiquidConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst LiquidChart = forwardRef((props: LiquidConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotLiquid, LiquidConfig>(G2plotLiquid, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default LiquidChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Heatmap as G2plotHeatmap, HeatmapOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface HeatmapConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst HeatmapChart = forwardRef((props: HeatmapConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotHeatmap, HeatmapConfig>(G2plotHeatmap, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default HeatmapChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Pie as G2plotPie, PieOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface PieConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst PieChart = forwardRef((props: PieConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotPie, PieConfig>(G2plotPie, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default PieChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Gauge as G2plotGauge, GaugeOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface GaugeConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst GaugeChart = forwardRef((props: GaugeConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotGauge, GaugeConfig>(G2plotGauge, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default GaugeChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Progress as G2plotProgress, ProgressOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface ProgressConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ProgressChart = forwardRef((props: ProgressConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotProgress, ProgressConfig>(G2plotProgress, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ProgressChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Radar as G2plotRadar, RadarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface RadarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RadarChart = forwardRef((props: RadarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRadar, RadarConfig>(G2plotRadar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RadarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RingProgress as G2plotRingProgress, RingProgressOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface RingProgressConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RingProgressChart = forwardRef((props: RingProgressConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRingProgress, RingProgressConfig>(G2plotRingProgress, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RingProgressChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Rose as G2plotRose, RoseOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface RoseConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RoseChart = forwardRef((props: RoseConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRose, RoseConfig>(G2plotRose, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RoseChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Chord as G2plotChord, ChordOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface ChordConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ChordChart = forwardRef((props: ChordConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotChord, ChordConfig>(G2plotChord, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ChordChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Scatter as G2plotScatter, ScatterOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface ScatterConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ScatterChart = forwardRef((props: ScatterConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotScatter, ScatterConfig>(G2plotScatter, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ScatterChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyArea as G2plotTinyArea, TinyAreaOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface TinyAreaConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyAreaChart = forwardRef((props: TinyAreaConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyArea, TinyAreaConfig>(G2plotTinyArea, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyAreaChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyColumn as G2plotTinyColumn, TinyColumnOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface TinyColumnConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyColumnChart = forwardRef((props: TinyColumnConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyColumn, TinyColumnConfig>(G2plotTinyColumn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyColumnChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { DualAxes as G2plotDualAxes, DualAxesOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface DualAxesConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst DualAxesChart = forwardRef((props: DualAxesConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  // @ts-ignore annotations \n  const { chart, container } = useChart<G2plotDualAxes, DualAxesConfig>(G2plotDualAxes, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default DualAxesChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { TinyLine as G2plotTinyLine, TinyLineOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface TinyLineConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TinyLineChart = forwardRef((props: TinyLineConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTinyLine, TinyLineConfig>(G2plotTinyLine, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TinyLineChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Waterfall as G2plotWaterfall, WaterfallOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface WaterfallConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst WaterfallChart = forwardRef((props: WaterfallConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotWaterfall, WaterfallConfig>(G2plotWaterfall, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default WaterfallChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { WordCloud as G2plotWordCloud, WordCloudOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface WordCloudConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst WordCloudChart = forwardRef((props: WordCloudConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotWordCloud, WordCloudConfig>(G2plotWordCloud, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default WordCloudChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sunburst as G2plotSunburst, SunburstOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface SunburstConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst SunburstChart = forwardRef((props: SunburstConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotSunburst, SunburstConfig>(G2plotSunburst, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default SunburstChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Stock as G2plotStock, StockOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface StockConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst StockChart = forwardRef((props: StockConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotStock, StockConfig>(G2plotStock, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default StockChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { RadialBar as G2plotRadialBar, RadialBarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface RadialBarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst RadialBarChart = forwardRef((props: RadialBarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotRadialBar, RadialBarConfig>(G2plotRadialBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default RadialBarChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Sankey as G2plotSankey, SankeyOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface SankeyConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst SankeyChart = forwardRef((props: SankeyConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotSankey, SankeyConfig>(G2plotSankey, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default SankeyChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Treemap as G2plotTreemap, TreemapOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\nexport interface TreemapConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst TreemapChart = forwardRef((props: TreemapConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotTreemap, TreemapConfig>(G2plotTreemap, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default TreemapChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Violin as G2plotViolin, ViolinOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface ViolinConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst ViolinChart = forwardRef((props: ViolinConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotViolin, ViolinConfig>(G2plotViolin, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default ViolinChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Venn as G2plotVenn, VennOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface VennConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst VennChart = forwardRef((props: VennConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotVenn, VennConfig>(G2plotVenn, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default VennChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { CirclePacking as G2plotCirclePacking, CirclePackingOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface CirclePackingConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst CirclePackingChart = forwardRef((props: CirclePackingConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotCirclePacking, CirclePackingConfig>(G2plotCirclePacking, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default CirclePackingChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Facet as G2plotFacet, FacetOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface FacetConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst FacetChart = forwardRef((props: FacetConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotFacet, FacetConfig>(G2plotFacet, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default FacetChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { Mix as G2plotMix, MixOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface MixConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {\n  chartType?: string;\n}\n\nconst MultiViewChart = forwardRef((props: MixConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotMix, MixConfig>(G2plotMix, { ...rest, chartType: 'Mix' });\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default MultiViewChart;\n","import React, { useEffect, useImperativeHandle, forwardRef } from 'react';\nimport { BidirectionalBar as G2plotBidirectionalBar, BidirectionalBarOptions as G2plotConfig } from '@antv/g2plot';\nimport useChart from '../../hooks/useChart';\nimport { getChart } from '../../util';\nimport { BaseConfig } from '../../interface';\nimport ErrorBoundary from '../../errorBoundary';\nimport ChartLoading from '../../util/createLoading';\n\nexport interface BidirectionalBarConfig extends Omit<G2plotConfig, 'tooltip'>, BaseConfig<G2plotConfig> {}\n\nconst BidirectionalBarChart = forwardRef((props: BidirectionalBarConfig, ref) => {\n  const {\n    chartRef,\n    style = {\n      height: 'inherit',\n    },\n    className,\n    loading,\n    loadingTemplate,\n    errorTemplate,\n    ...rest\n  } = props;\n  const { chart, container } = useChart<G2plotBidirectionalBar, BidirectionalBarConfig>(G2plotBidirectionalBar, rest);\n  useEffect(() => {\n    getChart(chartRef, chart.current);\n  }, [chart.current]);\n  useImperativeHandle(ref, () => ({\n    getChart: () => chart.current,\n  }));\n  return (\n    <ErrorBoundary errorTemplate={errorTemplate}>\n      {loading && <ChartLoading loadingTemplate={loadingTemplate} theme={props.theme} />}\n      <div className={className} style={style} ref={container} />\n    </ErrorBoundary>\n  );\n});\n\nexport default BidirectionalBarChart;\n","import Area from './components/area';\nimport Bar from './components/bar';\nimport Bullet from './components/bullet';\nimport Column from './components/column';\nimport Funnel from './components/funnel';\nimport Histogram from './components/histogram';\nimport Line from './components/line';\nimport Box from './components/box';\nimport Liquid from './components/liquid';\nimport Heatmap from './components/heatmap';\nimport Pie from './components/pie';\nimport Gauge from './components/gauge';\nimport Progress from './components/progress';\nimport Radar from './components/radar';\nimport RingProgress from './components/ring-progress';\nimport Rose from './components/rose';\nimport Chord from './components/chord';\nimport Scatter from './components/scatter';\nimport TinyArea from './components/tiny-area';\nimport TinyColumn from './components/tiny-column';\nimport DualAxes from './components/dual-axes';\nimport TinyLine from './components/tiny-line';\nimport Waterfall from './components/waterfall';\nimport WordCloud from './components/word-cloud';\nimport Sunburst from './components/sunburst';\nimport Stock from './components/stock';\nimport RadialBar from './components/radial-bar';\nimport Sankey from './components/sankey';\nimport Treemap from './components/treemap';\nimport Violin from './components/violin';\nimport Venn from './components/venn';\nimport CirclePacking from './components/circle-packing';\nimport Facet from './components/facet';\nimport MultiView from './components/mix'; //  Mix \nimport Mix from './components/mix';\nimport BidirectionalBar from './components/bidirectional-bar';\nimport { G2, flow, measureTextWidth, adaptors, getCanvasPattern, FUNNEL_CONVERSATION_FIELD } from '@antv/g2plot';\n\nexport {\n  Area,\n  Bar,\n  Box,\n  Bullet,\n  Column,\n  Funnel,\n  Histogram,\n  Line,\n  Liquid,\n  Heatmap,\n  Pie,\n  Progress,\n  Radar,\n  Facet,\n  RingProgress,\n  Rose,\n  Chord,\n  Scatter,\n  TinyArea,\n  TinyColumn,\n  TinyLine,\n  Waterfall,\n  WordCloud,\n  Sunburst,\n  DualAxes,\n  Stock,\n  RadialBar,\n  CirclePacking,\n  Gauge,\n  Sankey,\n  Treemap,\n  Violin,\n  Venn,\n  MultiView,\n  Mix,\n  BidirectionalBar,\n  G2,\n  //  G2Plot \n  getCanvasPattern,\n  FUNNEL_CONVERSATION_FIELD,\n  flow,\n  measureTextWidth,\n  adaptors,\n};\n\nexport default {\n  Area,\n  Bar,\n  Box,\n  Bullet,\n  Column,\n  Funnel,\n  Histogram,\n  Line,\n  Liquid,\n  Heatmap,\n  Pie,\n  Progress,\n  Radar,\n  Facet,\n  RingProgress,\n  Rose,\n  Chord,\n  Scatter,\n  TinyArea,\n  TinyColumn,\n  TinyLine,\n  Waterfall,\n  WordCloud,\n  Sunburst,\n  DualAxes,\n  Stock,\n  RadialBar,\n  Gauge,\n  CirclePacking,\n  Sankey,\n  Treemap,\n  Violin,\n  Venn,\n  MultiView,\n  Mix,\n  BidirectionalBar,\n  //  G2Plot \n  getCanvasPattern,\n  FUNNEL_CONVERSATION_FIELD,\n  G2,\n  flow,\n  measureTextWidth,\n  adaptors,\n};\n\nexport * from './interface';\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__787__","__WEBPACK_EXTERNAL_MODULE__156__","zeros","x","r","Array","i","dot","a","b","ret","length","norm2","Math","sqrt","scale","value","c","weightedSum","w1","v1","w2","v2","j","wolfeLineSearch","f","pk","current","next","c1","c2","phi0","fx","phiPrime0","fxprime","phi","phi_old","phiPrime","a0","zoom","a_lo","a_high","phi_lo","iteration","abs","bisect","parameters","maxIterations","tolerance","fA","fB","delta","mid","fMid","nelderMead","x0","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","undefined","chi","psi","sigma","N","simplex","id","point","slice","updateSimplex","sortOrder","centroid","reflected","contracted","expanded","sort","history","sortedSimplex","map","state","push","max","worst","shouldReduce","conjugateGradient","initial","params","temp","yk","alpha","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","inner","zerosM","y","isNumber","findMin","arr","Infinity","curr","min","findMax","findMinMulti","findMaxMulti","inside","LN_2","log","helper","kernel","getUnifiedMinMax","options","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","width","size","step","create","normalizedMinMax","range","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","forEach","bucket","floor","xToBucket","start","end","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","weight","startGradPos","gradAccumulator","area","getExpectedValueFromPdf","pdf","expected","obj","getXWithLeftTailArea","last","getPerplexity","entropy","ln","isFinite","pow","Object","defineProperty","SensorTabIndex","SensorClassName","SizeSensorId","fn","delay","arguments","timer","_this","this","_len","args","_key","clearTimeout","setTimeout","apply","concat","_sensorPool","element","cb","sensor","getSensor","bind","unbind","removeSensor","_id","__esModule","_sensors","_constant","Sensors","sensorId","getAttribute","newId","setAttribute","createSensor","removeAttribute","destroy","_object","_resizeObserver","ResizeObserver","_debounce","listeners","resizeListener","listener","parentNode","contentDocument","defaultView","removeEventListener","removeChild","getComputedStyle","position","style","document","createElement","onload","addEventListener","display","top","left","height","overflow","pointerEvents","zIndex","opacity","type","appendChild","data","newSensor","indexOf","idx","splice","disconnect","s","observe","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call","n","getter","d","definition","key","o","enumerable","get","prop","prototype","hasOwnProperty","Symbol","toStringTag","_objectWithoutProperties","source","excluded","target","sourceKeys","keys","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","extendStatics","setPrototypeOf","__proto__","p","__extends","TypeError","String","__","constructor","__assign","assign","t","__rest","e","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","rejected","result","done","adopt","then","__generator","body","g","_","label","sent","trys","ops","verb","iterator","v","op","pop","__values","m","__read","ar","error","__spreadArrays","il","k","jl","__spreadArray","to","from","pack","l","isArrayLike","func","index","toString","isType","isArray","elements","len","isObject","each","isFunction","attrs","_keys","isNil","isObjectLike","getPrototypeOf","proto","predicate","_predicate","isPlainObject","fromIndex","rst","reduce","prev","values","filterValues","filter","isNaN","tmp","getMax","getMin","arrPrototype","init","indexes","previous","pullAt","str","uniq","cache","Map","item","has","set","name","tmpMap","val","head","condition","groupToMap","paramscondition_1","replace","split","row","unique","groupBy","base","round","substr","parseFloat","toFixed","isNumberEqual","precision","Number","isInteger","maxItem","PI","RADIAN","degree","toLowerCase","match","charAt","toUpperCase","substring","objectProto","Element","HTMLDocument","clone","wait","immediate","timeout","context","later","callNow","resolver","memoized","_deepMix","dist","src","level","maxLevel","getType","Ctor","isPrototype","isEqual","other","isString","valueKeys","otherKeys","identity","_mix","mix","src1","src2","src3","defaultValue","keyArr","path","object","includes","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","getContext","fontSize","join","measureText","default_1","def","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","GROUP_ATTRS","ENGINES","getEngine","G","Error","registerEngine","engine","createDom","tr","tbody","thead","tfoot","td","th","test","RegExp","$1","container","innerHTML","dom","childNodes","contains","modifyCSS","css","getChartSize","ele","autoFit","w","h","clientWidth","parseInt","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getElementSize","EventEmitter","evt","callback","once","_events","on","events","wildcardEvents","doEmit","es","length_1","cfg","_super","visible","_a","Base","changeVisible","off","destroyed","EE","SPACES","PATH_COMMAND","PATH_VALUES","parsePathString","pathString","paramCounts","q","u","z","catmullRomToBezier","crp","iLen","ellipsePath","rx","ry","res","rad","x1","cos","x2","sin","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","y1","y2","q2c","ax","ay","_13","_23","a2c","angle","large_arc_flag","sweep_flag","recursive","xy","f1","f2","cx","cy","_120","rotate","rx2","ry2","asin","df","f2old","x2old","y2old","s1","s2","tan","hx","hy","m1","m2","m3","m4","newres","pathToCurve","path2","p2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","shift","pi","fixM","path1","a1","a2","seg","seg2","seglen","seg2len","p2s","parsePathArray","base3","p1","p3","p4","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","sum","ct","xbase","ybase","comb","curveDim","y0","tvalues","bounds","b2ac","sqrtb2ac","t1","t2","mt","jlen","intersect","denominator","px","py","px2","py2","isPointInsideBBox","bbox","rectPath","box","r1","r2","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","atan2","interHelper","bez1","bez2","justCount","bbox1","bbox2","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","points","right","recurse","middlePoints","reverse","fillPath","sourceLen","targetLen","ratio","segmentsToFill","filled","count","segments","leftSegments","segment","cmd","splitCurve","splitSegment","unshift","obj1","obj2","getMinDiff","del","add","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","diff","_splitPoints","former","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","event","originalEvent","timeStamp","GraphEvent","defaultPrevented","preventDefault","propagationStopped","removeFromArray","isBrowser","window","isParent","shape","isCanvas","parent","getParent","isAllowCapture","capture","defaultCfg","getDefaultCfg","BrowserInfo","version","os","NodeInfo","process","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detect","userAgent","parseUserAgent","navigator","product","ua","matchedRule","matched","browser","regex","uaMatch","exec","matchUserAgent","versionParts","output","createVersionParts","detectOS","searchBotMatch","multiply","out","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","ARRAY_TYPE","Float32Array","subtract","distance","hypot","normalize","mag","cosine","acos","random","sub","leftTranslate","transMat","mat3","leftRotate","rotateMat","leftScale","scaleMat","leftMultiply","transform","actions","matrix","action","angleTo","direct","ang","vec2","angleLargeThanPI","direction","multiplyMatrix","multiplyVec2","invert","det","glMatrix","ext","MATRIX","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","toAttrs","fromAttrs","getFormatToAttrs","props","attr","checkExistedAttrs","animations","animation","onFrame","duration","startTime","getDefaultAttrs","initAttrs","initAnimate","getDefaultMatrix","changeType","setAttr","afterAttrsChange","refX","refY","clip","getClip","isHit","originValue","onAttrChange","targetAttrs","isClipShape","applyTo","onCanvasChange","children","getChildren","totalMatrix","currentMatrix","parentMatrix","invertMatrix","clipCfg","canvas","getCanvas","clipShape","Cons","getShapeBase","upperFirst","originAttrs","_cloneArrayAttr","cons","cfgName","isPaused","timeline","initTimer","repeat","pauseCallback","resumeCallback","animateCfg","easing","_b","noop","_c","formatToAttrs","getTime","uniqueId","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","propagationPath","getEvents","fromShape","toShape","name_1","isGroup","subName","emitDelegateEvent","this_1","eventName","currentTarget","delegateTarget","delegateObject","emit","translateX","translateY","getMatrix","newMatrix","setMatrix","targetX","targetY","translate","move","ratioX","ratioY","radian","SHAPE_MAP","setCanvas","child","setTimeline","Container","minX","maxX","minY","maxY","xArr","yArr","getBBox","getCanvasBBox","getTotalMatrix","_applyChildrenMarix","preTotalMatrix","applyMatrix","shapeType","ShapeBase","group","groupClass","tmpCfg","TmpGroupClass","getGroupBase","ev","_findShape","invertFromMatrix","isClipped","getShape","preParent","_applyElementMatrix","clear","getChildByIndex","contain","remove","findAll","find","className","taskHead","taskTail","frame","interval","clockLast","clockNow","clockSkew","clock","performance","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","_next","time","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","extend","Color","stop","darker","brighter","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","color","format","trim","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v3","nogamma","linear","constant","copy","channels","displayable","formatHsl","rgbGamma","exponential","gamma","colorRgb","rgbSpline","spline","colors","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","lastIndex","number","one","zero","string","date","numberArray","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","custom","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b0","bounceIn","bounceOut","bounceInOut","overshoot","backIn","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","EASING_MAP","registerEasing","easeFn","IDENTITY_MATRIX","update","elapsed","d3Ease","cProps","interf","PathUtil","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","draw","animator","stopAnimate","EVENTS","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","_triggerEvent","dragging","currentShape","pointInfo","_getPointInfo","_emitEvent","draggingShape","_afterDrag","EventController","_bindEvents","el","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientX","clientY","clientPoint","getClientByEvent","getPointByEvent","_getShape","method","leaveCanvas","preShape","cursor","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","dx","dy","_getEventObj","parent_1","emitDelegation","_clearEvents","isFirefox","initContainer","initDom","initEvents","initTimeline","Canvas","getElementById","setDOMSize","eventController","layerX","offsetX","layerY","offsetY","getPointByClient","clientInfo","touches","changedTouches","getBoundingClientRect","clearEvents","removeDom","AbstractGroup","AbstractShape","clearCacheBBox","calculateBBox","canvasBBox","calculateCanvasBBox","topLeft","topRight","bottomLeft","bottomRight","shadowColor","shadowOffsetX","shadowOffsetY","shadowLeft","shadowBlur","shadowRight","shadowTop","shadowBottom","startArrowShape","endArrowShape","vec","inBBox","_isInBBox","isOnlyHitBox","isInShape","register","getMethod","minNum","array","maxNum","getBBoxByArray","piMod","nearestPoint","tCallback","segNum","increaseRate","_t","d1","d2","quadraticAt","p0","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","line","controlPoint2","quadraticLength","iterationCount","quadratics","xExtrema","yExtrema","pointDistance","interpolationAt","pointAt","divide","tangentAngle","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","totalLength","snapLength","cubics","xAt","xRotation","yAt","startAngle","endAngle","xDim","atan","xs","xAngle","yDim","ys","yAngle","lengthOfSegment","mergeBBox","mergeArrowBBox","offScreenCtx","getOffScreenContext","getTextHeight","lineHeight","lineCount","spaceingY","getLineSpaceing","assembleFont","regexTags","regexDot","REGEX_MD","toSymmetry","needProcess","first","preParams","upCmd","symetricT","symetricS","vMag","vRatio","vAngle","isSamePoint","point1","point2","getArcParams","startPoint","mod","toRadian","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","theta","dTheta","center","getSegments","currentPoint","nextParams","startMovePoint","lastStartMovePointIndex","tag","parsePath","command","prePoint","startTangent","endTangent","arcParams","nextPoint","cp","preSegment","cp1","cp2","_d","_e","_f","_g","_h","dx1","dy1","dx2","dy2","dcmp","onSegment","isInPolygon","isBetween","parseToLines","lines","getExtraFromSegmentWithAngle","lineWidth","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","rect","circle","Util","save","textArr","subText","measureWidth","restore","getTextWidth","textBaseline","textAlign","segmentsWithAngle","QuadUtil","CubicUtil","EllipseArcUtil","getPathBox","path2Segments","yField","adjustNames","dimValuesMap","xField","Adjust","dim","dimValue","pre","isAdjust","groupedDataArray","mergedData","getDimValues","dataArray","adjustDim","record","dims","ADJUST_MAP","getAdjust","registerAdjust","ctor","dodgeRatio","dodgeBy","intervalPadding","dodgePadding","xDimensionLength","groupNum","defaultSize","maxColumnWidth","minColumnWidth","columnWidthRatio","customOffset","marginRatio","xDimensionLegenth","Dodge","groupDataArray","mergeData","adjustDataArray","groups","cacheMap","adjustData","frameIndex","getDistribution","groupData","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","margin","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","Jitter","adjustGroup","getAdjustOffset","Cache","reverseOrder","Stack","processStack","processOneDimStack","positive","negative","xKey","xValue","newXValue","stackHeight","stackValue","Symmetric","getXValuesMaxMap","yValue","off_1","offset","getDimMaxValue","dimValues","flattenValues","toScaleString","_parseCfg","Attribute","param","_toOriginParam","scales","percent","steps","leftPercent","names","field","_getAttributeValue","defaultCallback","isCategory","getLinearValue","isLinear","RGB_REG","regexLG","regexRG","regexColorStop","getValue","arr2rgb","toHex","iEl","rgb2arr","x16Value","toRGB","title","getPropertyValue","gradient","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","itemArr","colorUtil","Position","scaleX","scaleY","xi","yi","Shape","methodCache","registerTickMethod","__cfg__","initCfg","Scale","ticks","tick","getText","tickValue","formatter","setDomain","isEmpty","getConfig","calculateTicks","tickMethod","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","rangeMin","rangeMax","scaledValue","domainRange","token","twoDigitsOptional","twoDigits","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","lowerCaseArr","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","default","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","info","requiredField","matches","dateTZ","parser","validateFields","UTC","timeFormat","fecha1","fecha","toTimeStamp","isDate","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","intervals","TimeCat","tickIndex","tickCount","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","getRange","nice","Linear","getInvertPercent","calBase","E","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","factor","Time","numberValue","minConfig","maxConfig","timeStamps_1","min_1","secondMin_1","max_1","minTickInterval","Quantize","minIndex","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","calculateCatTicks","tickInterval","showLast","ticks_1","lastValue","e10","e5","e2","D3Linear","domain","_domain","i0","i1","tickIncrement","ceil","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","fixedBase","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","prettyNumber","DEFAULT_Q","eps","EPSILON","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","half","pretty","log10","unit","nu","ns","hi","lo","quantileSorted","getYear","createYear","creatMonth","cat","catTicks","onlyLoose","step_1","fill","best","score","sm","dm","cm","minStart","maxStart","i_1","lStep","extended","_lo","_hi","getTickInterval","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","console","warn","avg","sorted","d3Linear","registerScale","ATTRIBUTE_MAP","registerAttribute","transformMat3","Opacity","Size","isTransposed","originalMatrix","Coordinate","isReflect","vector","vec3","inverted","convertPoint","invertPoint","isReflectX","isReflectY","radius","Cartesian","convertDim","invertDim","innerRadius","Helix","maxRadius","thi","newY","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","propagationDelegate","eventObject","identityMatrix","getMatrixByAngle","getMatrixByTranslate","applyRotate","applyTranslate","translateMatrix","formatPadding","padding","bottom","clearDom","regionToBBox","region","createBBox","getValueByPercent","getCirclePoint","near","getBBoxWithClip","box1","box2","clipBBox","minX_1","maxX_1","minY_1","maxY_1","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","toPx","getTextPoint","offsetPercent","LOCATION_FIELD_MAP","none","Component","locationType","animate","updateAutoRender","animateOption","appear","enter","leave","newCfg","deepMix","updateInner","afterUpdate","hasKey","show","hide","setCapture","location","STATUS_UPDATE","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","shapesMap","isRegister","isUpdating","isInit","clearOffScreenCache","localId","getElementId","elem","offScreenRender","render","offScreenGroup","updateElements","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","applyMatrix2BBox","initGroup","getDelegateObject","moveElementTo","addGroup","isComponent","component","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","addShape","restCfg","inst","elmentName","newElement","originOpacity","elementName","originElement","newAttrs","newGroup","originGroup","preElement","elementId","childComponent","origChildComponent","pick","replaceAttrs","getReplaceAttrs","updateAnimation","newClipShape","setClip","updateClip","siblings","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","charAtLength","charCodeAt","getMaxLabelWidth","labels","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","isVertical","limitLength","ellipsisText","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","getEllipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","newText","reserveLength","reseveLength","startStr","endStr","startIndex","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","renderTag","tagCfg","content","maxLength","autoEllipsis","ellipsisPosition","background","tagGroup","backgroundStyle","toBack","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","descriptionIconStroke","descriptionIconFill","LineAnnotation","Theme","autoRotate","stroke","renderLine","renderLabel","getLabelPoint","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","endPoint","largeFlag","middlePoint","getArcPath","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","img","getImageAttrs","DataMarkerAnnotation","autoAdjust","coordinateBBox","renderText","renderPoint","getShapeAttrs","textAttrs","isVertival","lineLength","findById","textShape","lineShape","lineDisplay","pointStyle","lineStyle","textStyle","DataRegionAnnotation","regionStyle","pointsToBBox","RegionFilterAnnotation","layer","shapeIdx","adjustShapeAttrs","fillStyle","strokeStyle","ShapeAnnotation","getStyle","HtmlComponent","containerTpl","containerClassName","getContainer","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","domStyles","applyChildrenStyles","cName","styles","getElementsByClassName","cssName","resetPosition","HtmlAnnotation","alignX","alignY","html","isElement","bLeft","pLeft","pRight","bRight","mRight","domWidth","offsetWidth","getWidth","domHeight","offsetHeight","getHeight","bTop","pTop","pBottom","getOuterHeight","getStatesStyle","stateStyles","styleName","AxisBase","tickLine","subTickLine","verticalFactor","verticalLimitLength","overlapOrder","tickStates","optimize","alignTick","displayWithLabel","autoHide","spacing","iconStyle","description","active","labelStyle","tickLineStyle","inactive","enable","threshold","theme","drawLine","drawTicks","drawTitle","items","itemGroup","updateTickStates","getItemsByState","setItemState","getItems","hasState","getSideVector","align","labelGroup","getLinePath","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","labelId","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","labelCfg","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","newStyle","titleCfg","titleHeight","titlePoint","getAxisVector","titleAttrs","getTitleAttrs","titleShape","drawDescriptionIcon","descriptionShape","startX","startY","x5","y5","x6","y6","x7","y7","getItemStates","labelShape","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","states","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","getAngleByMatrix","isOverlap","minGap","overlap","prevBBox","reserveOne","labelsGroup","reversed","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","getAngle","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","Line","regionX","regionY","normal","isHorizontal","labelOffset","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","Circle","large","sweep","CrosshairBase","textBackground","renderBackground","textPoint","textId","textBBox","LineCrosshair","CROSSHAIR_LINE","CONTAINER_CLASS","CROSSHAIR_TEXT","CssConst","backgroundColor","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","substitute","initCrossHair","alignText","GridBase","alternateColor","closed","drawGrid","prePoints","regionPath","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","isEven","drawAlternateRegion","getAlternatePath","lineType","getLineType","firstPoint","radius_1","sweepFlag_1","LegendBase","layout","getLayoutBBox","maxHeight","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","marker","inactiveFill","inactiveOpacity","RIGHT_ARROW_NAME","LEFT_ARROW_NAME","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemSpacing","itemMarginBottom","maxItemWidth","itemWidth","itemHeight","itemName","itemValue","radio","itemStates","itemBackground","pageNavigator","symbol","alignRight","nameStyle","unchecked","markerStyle","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","style_1","items_1","markerCfg","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","clamp","valueShape","drawRadio","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","pages","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","arrow","itemStates_1","elName","statesStyle","ContinueLegend","track","rail","handler","slidable","defaultLength","getCurrentValue","resetTrackClip","resetHandlers","delegateEmit","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","minValue","getValueByCanvasPoint","maxValue","setValue","preValue","curValue","currentValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","draggable","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","halfWidth","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","TITLE_CLASS","LIST_CLASS","LIST_ITEM_CLASS","MARKER_CLASS","VALUE_CLASS","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","visibility","transition","boxShadow","borderRadius","marginBottom","listStyleType","marginRight","marginLeft","Tooltip","customContent","itemTpl","xCrosshairTpl","yCrosshairTpl","showTitle","crosshairsRegion","crosshairs","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","getOffset","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","node","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","itemDom","BACKGROUND_STYLE","LINE_STYLE","strokeOpacity","AREA_STYLE","pointsToPath","dataToPath","smooth","constraint","isLoop","pointList","controlPointList","prevPoint","nextCp0","cp0","cps","hasConstraint","d0","smoothBezier","catmullRom2Bezier","getSmoothLinePath","Trend","isArea","areaStyle","areaPath","lineYPx","lineY","getAreaLineY","linePathToAreaPath","DEFAULT_HANDLER_STYLE","highLightFill","Handler","bindEvents","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","SLIDER_CHANGE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","Slider","oldStart","oldEnd","newStart","newEnd","foregroundStyle","handlerStyle","validCfg","minHandler","getChildComponentById","maxHandler","trend","trendCfg","minText","maxText","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","minBBox","maxBBox","eventType","attachEvent","detachEvent","DEFAULT_THEME","trackColor","thumbColor","lineCap","hover","isMobile","startPos","bindLaterEvent","thumbOffset","endPos","updateThumbOffset","thumbLen","newOffset","validateRange","Scrollbar","newValue","originalValue","minThumbLen","renderTrackShape","renderThumbShape","trackLen","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","uniqueValues","Set","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","sourceShape","targetShape","omit","sourceArray","targetArray","sourceArray_1_1","BBox","subBBox","fromRange","gap","getXDimensionLength","isPolar","getRadius","convert","getDistanceToCenter","getAngleByPoint","getCoordinateClipCfg","endState","endAngle_1","center_1","startState","startAngle_1","dateRegex","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","firstValue","getScale","valuesOfKey","getDefaultType","getName","alias","getDefaultCategoryScaleRange","isFullCircle","getAxisRegion","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","isBoolean","getAxisDirection","axisOption","getAxisTitleText","view","facets","Facet","createContainer","getData","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","createFacetViews","facetToView","removeView","viewBBox","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","fields","getTheme","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","every","Facets","getFacet","lowerCase","registerFacet","addAction","Action","applyCfg","removeAction","CallbackAction","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","isInCircle","_points2path","getSplinePath","constaint","splinePath","getMaskBBox","maskBBox","getCurrentElement","getDelegationObject","isElementChange","gEvent","isList","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","shapePoints","points1","points2","isIn","isPointInPolygon","lines1","lines2","isIntersect","D0","D1","kross","getLineIntersect","lineIntersectPolygon","isPolygonsIntersect","getElementsByPath","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","views","subView","getElementsByState","stateName","getElementsBy","getElementValue","getModel","shapeBBox","getComponents","co","isInBox","getSilbings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","getScaleByField","Context","HTMLElement","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","parseAction","actionStr","arg","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","debounce","throttle","nameArr","Interactions","getInteraction","registerInteraction","interaction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","pointBorderColor","pointBorder","fillOpacity","pointFillOpacity","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","pointInactiveFillOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","axisTitleTextLineHeight","axisDescriptionIconFillColor","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","createAxisStyles","legendStyles","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","flipPage","legendPageNavigatorMarkerSize","legendPageNavigatorMarkerInactiveFillColor","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","legendItemSpacing","legendItemMarginBottom","legendPadding","createLegendStyles","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","geometry","middleAngle","funnel","pyramid","dash","hv","vh","hvh","vhv","polygon","square","bowtie","diamond","hexagon","triangle","cross","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","legend","legendVerticalPadding","legendHorizontalPadding","continuous","sliderRailHeight","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","TOOLTIP_CSS_CONST","tooltipContainerFillColor","tooltipContainerFillOpacity","tooltipContainerShadow","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","marginTop","float","annotation","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","dataRegion","slider","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","cSliderForegroundFillColor","cSliderForegroundFillOpacity","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","cSliderHandlerHighlightFillColor","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","scrollbarTrackFillColor","scrollbarThumbFillColor","scrollbarThumbHighlightFillColor","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","registerTheme","snapEqual","filterYValue","yScale","getYScale","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","attributes_1_1","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","getFields","titleField","titleScale","getTooltipTitle","tooltipOption","addItem","mappingData","callbackParams","itemCfg","fields_1_1","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray_1_1","elementsMap","getTooltipItemsByHitShape","findItemsFromView","geometries_1_1","tooltipItems","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","option","wrapperOption","CoordinateController","some","isTheta","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","Event","GEvent","defaultLayout","getController","controller","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","sync","PaddingCal","getPadding","defaultSyncViewPadding","chart","PC","syncPadding","instance","autoPadding","createViewEvent","doPlotEvent","backgroundGroup","middleGroup","foregroundGroup","appendPadding","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","status","opt","existInteraction","interaciton","createInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","BG","MID","isPointInCoordinate","flatten","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","isUndefined","curStart","curEnd","bl","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","adjustCoordinate","initComponents","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","exceed","componentPadding","componentBBox","expand","inc","calculatePadding","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","annotations","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","renderer","pixelRatio","localRefresh","supportCSSTransform","defaultInteractions","wrapperElement","forceFit","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","ATTR","BEFORE_CHANGE_SIZE","changeSize","AFTER_CHANGE_SIZE","aria","unbindAutoFit","verticalAlign","onResize","Controller","includeOption","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","guideGroup","reset","tooltipCrosshairsGroup","items_1_1","itemArr_1_1","snapItem","items_2_1","aItem","yDistance","uniqItems","subItem","isPointIn","processOption","processCustomContent","currentCustomContent","getTooltipMarkersGroup","rootView","items_3_1","attrs_1","markerDefaultCfg","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","textCfg","firstItem","getGuideGroup","toFront","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","GEOMETRY_ANIMATE_CFG","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","animateType","doAnimate","parsedAnimateCfg","parseAnimateConfig","animateFunction","BACKGROUND_SHAPE","shapeFactory","offscreenGroup","elementIndex","model","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getStates","getAnimateCfg","stateStatus","sortZIndex","setZIndex","offscreenShape","setState","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","BEFORE_DRAW_ANIMATE","GroupCtor","newClip","newChildren","name_2","getStateStyle","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","parsedPath","cur","subPath","curPoint","angleRange","flag","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","convertPolarPath","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","zIndexReversed","useDeferredLabel","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","beforeMappingData","beforeMapping","mapping","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","deferred","renderLabels","requestIdleCallback","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","mappingArray","xScale_1","xField_1","updateStackRange","normalizeValues","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","added_1_1","updated_1_1","currentShapeCfg","preShapeCfg","removed_1_1","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","beforeAdjust","subData","subLen","categoryScales_1_1","xScale_2","sizeAttr","getDefaultValue","adjustCtor","getAdjustClass","adjustInstance","appendConditions","values_1_1","eachGroup","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","BEFORE_RENDER_LABEL","getLabelType","GeometryLabelsCtor","labelsMap","labelsRenderer","elementLabels","labelGroupId","labelChildren","entries","AFTER_RENDER_LABEL","rotateRadian","getRotateMatrix","findLabelTextShape","getLabelBackgroundInfo","labelItem","boxPadding","rotation","checkShapeOverlap","dones","updateLabel","updateAnimateCfg","fromChild","toChild","getCount","Labels","createOffscreenGroup","renderLabelLine","renderLabelBackground","adjustLabel","lastShapesMap","origin_1","currentAnimateCfg","deleteShape","shapeAppendCfg","isShape","isNull","layouts","all","labelShapes","geometryShapes","labelItems","labelLineCfg","labelContentShape","backgroundShape","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelContent","total","subIndex","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","transposed","offsetPoint","getDimValue","isAvg","isFunnel","getPolygonCentroid","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","startsWith","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","leftPoints","rightPoints","leftPath","rightPath","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","VERSION","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","inBox","intersectRect","regexPR","addStop","addColorStop","parseStyle","gradientStr","tanTheta","tanTheta2","createLinearGradient","parseLineGradient","fy","fr","createRadialGradient","parseRadialGradient","patternStr","pattern","createPattern","Image","crossOrigin","complete","parsePattern","CanvasPattern","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","clearChanged","cacheCanvasBBox","isInView","drawPath","arcParamsCache","beginPath","ArrowUtil","tangent","getStartTangent","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","ellipse","closePath","refreshElement","_cacheCanvasBBox","Group","createPath","_afterDraw","viewRange","getViewRange","allowDraw","_applyClip","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","getCanvasViewBox","strokeAndFill","afterDrawPath","isInStrokeOrPath","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","nodeName","ImageShape","_setImage","image_1","_afterLoading","swidth","sheight","drawImage","inLine","LineUtil","setArrow","startArrowDistance","endArrowDistance","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","isPointInPath","hasArc","extractPolygons","polygons","polylines","isPointInStroke","inArc","isInPolygons","_setPathArr","getTotalLength","extractResutl","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","segmentT","segmentL","segmentN","tempLength","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","r3","r4","parseRadius","Text","_assembleFont","_setText","subY","_getSpaceingY","fillText","strokeText","_drawTextArr","_drawText","getRefXY","preTest","curShape","devicePixelRatio","getPixelRatio","_clearFrame","clearRect","viewRegion","minXArr","minYArr","maxXArr","maxYArr","region1","region2","cacheBox","validCache","validBBox","getRefreshRegion","getMergedRegion","mergeView","drawFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","_startDraw","_getRefreshRegion","_drawRegion","_drawAll","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","AbstractCanvas","SHAPE_TO_TAGS","polyline","SVG_ATTR_MAP","lineDashOffset","miterLimit","preserveAspectRatio","createSVGElement","createElementNS","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","targetIndex","nodeType","currentIndex","insertBefore","targetNext","children_1","canFill","canStroke","shadow","_setColor","addGradient","addPattern","blur","addShadow","setShadow","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","getAll","_assembleMarker","symbolsFactory","_formatPath","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","baseline","textLen_1","arr_1","stops","Gradient","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","_parseShadow","Shadow","config","_setDefaultPath","_setMarker","Arrow","shapeEl","Clip","Pattern","defaultArrow","Defs","autoDraw","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","yItem","startOnZero","Area","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","data_1_1","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","shadowCanvas","colorAttr","pixels","palette","ColorUtil","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","minLength","getBackgroundRectPath","isReflectYTransposed_1","bump","opposite","getFunnelPath","isPyramid","swap","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","backgroundCfg","backgroundPath","getRectWithCornerRadius","coor","getIntervalRectPath","Interval","SHAPES","drawPoints","pointPosition","points_1_1","Point","subX","xOffset","yOffset","Schema","sizeArr","num","normalizeSize","_size","isMin","isMax","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","getSmoothPath","CORNER_PERCENT","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandlePoints","yValues","targetLength","padValue","padEnd","sourceLength","getCandleYValues","getRectAttrs","getVHVPath","getTickPoints","getTickPath","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","getInterpolateShapeAttrs","getBoxPath","getCandlePath","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isValidBox","isIntersectRect","rect1Points","rect2Points","projection1","projection2","url","queue","worker","Worker","onmessage","onmessageerror","MyWorker","onError","postMessage","terminate","generateUtils","methods","eventData","JSON","blob","Blob","BlobBuilder","append","getBlob","URL","createObjectURL","createWorker","layoutCode","preset","hasSome","compare","rightText","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","levelFacets","getFacetsByLevel","levelFacets_1_1","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","getMedian","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","ANNOTATION","extra","xPos","yPos","parsePercentPosition","viewData","startXValue","endXValue","parsePosition","sp","ep","textContent","getCoordinateBBox","start_5","end_5","getRegionPoints","apply_1","shapes_1","addShapes_1","_j","render_1","restOptions","_k","html_1","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","preTick","currentTick","middleValue","getCircleGridItems","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","changeViewData","onChangeFn","onValueChange","resetMeasure","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","SliderComponent","getThemeOptions","dataSize","xTickCount","maxIndex","getValidScrollbarCfg","originalAnimate","getScrollRange","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","xScaleValues","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","ActiveRegion","findItemsFromViewRecurisive","getItemsOfView","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","TooltipAction","lastTimeStamp","preLoc","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","group_1","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","STATUS_UNACTIVE","STATUS_ACTIVE","clearHighlight","setHighlightBy","INACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","filterStates","setItemsState","allowSetStateByItem","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","clearList","ListSelected","ListUnchecked","STATUS_UNCHECKED","STATUS_CHECKED","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","items_4_1","STATUS_SHOW","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getFilter","RangeFilter","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","currentRatio","nextStart","deltaY","isWheelDown","nextRatio","AxisDescription","descriptionTooltipStyle","isPointInView","isInPlot","flow","flows","template","LEVEL","CanvasEngine","SVGEngine","Edge","greedy","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","labelShapes_1_1","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","memoKey","stringify","post","e_1","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textShapes","textBox","DOT_WIDTH","labels_1_1","RIGHT_HALF_KEY","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","breakPoint","breakPoint3","xSign","slope1","slope2","drawLabelline","fromObject","fillWhite","isContrastColorWhite","shouldInShapeSingle","shouldInShape","moveInShape","filteredLabels","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","BRAND","getMessage","argIndex","getContainerSize","findGeometry","getAllElements","getAllElementsRecursively","findViewById","getViews","getSiblingViews","transformLabel","labelOptions","deep","deepAssign","kebabCase","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","setStatisticContainerStyle","renderStatistic","statistic","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","isRealNumber","adjustYMetaByZero","numberData","gtZero","ltZero","transformDataToNodeLinkData","sourceField","targetField","weightField","rawFields","nodes","links","nodesMap","nodesIndex","rawData","processIllegalData","WARN","normalPadding","getAdjustAppendPadding","currentAppendPadding","PADDING","resolveAllPadding","paddings","normalPaddings","finalPadding","GLOBAL","LocaleMap","registerLocale","locale","localeObj","getLocale","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","getDefaultOptions","createG2","Plot","xAxis","yAxis","chartSize","execAdaptor","bindSizeSensor","updateOption","stateObjects","incoming","findIndex","unbindSizeSensor","adaptor","getSchemaAdaptor","triggerResize","AXIS_META_CONFIG_KEYS","initCanvas","fillRect","getUnitPatternSize","isStagger","unitSize","getSymbolsPosition","transformMatrix","dpr","defaultDotPatternCfg","drawDot","defaultLinePatternCfg","defaultSquarePatternCfg","drawSquare","strokeRect","getCanvasPattern","dotCfg","_i","createDotPattern","lineCfg","Path2D","createLinePattern","squareCfg","squares","createSquarePattern","patternOption","colorAttribute","seriesValue","seriesField","removeInteraction","meta","annotationOptions","annotationController","transformations","getTooltipMapping","defaultFields","getMappingField","shapeField","styleField","mappingFields","tileMappingField","getMappingFunction","tooltipFields","stepType","columnBackground","widthRatio","groupField","otherAdaptor","pointMapping","areaMapping","pointState","areaState","primary","areaParams","lineGeometry","DEFAULT_OPTIONS","MarkerActiveAction","getView","InteractionAction","measure","as","sumMap","groupValue","percentage","getDataWhetherPercentage","asField","isPercent","lineMapping","chartData","tooltipOptions","lineParams","pointParams","areaGeometry","conversionTagFormatter","getConversionTagOptionsWithDefaults","horizontal","headSize","INTERACTION_MAP","click","getStartStages","BUTTON_ACTION_CONFIG","buttonStyle","drawText","getInteractionCfg","interactionType","brushType","isStartEnable","maskType","BRUSH_TYPES","brushInteraction","brush","enabled","buttonConfig","defaultOptions","columnStyle","percentData","getDeepPercent","stackedItem","percentYMeta","isRange","columnTooltip","tooltipFormatter_1","isBar","disable","disabled","conversionTag","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","connectedArea","Column","verticalAxis","horizontalAxis","coordinateOptions","barStyle","barWidthRatio","minBarWidth","maxBarWidth","barBackground","columnAdaptor","Bar","pieStyle","adaptOffset","defaultOffset","endsWith","isAllZero","angleField","ORIGIN_MATRIX","ulMatrix","PieLegendAction","item_1","getActiveElements","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","initialStatistic","getInitialAnnotation","dataum","angleScale","content_1","labelLayoutType","outer","spider","labelLayoutCfg","transformStatisticOptions","titleOpt_1","contentOpt_1","dataValue","getTotalValue","metaFormatter","pieAnnotation","startStages_1","PIE_STATISTIC","stage","Pie","prevOptions","prevData","curData","sectorStyle","Rose","spiral","timeInterval","wordCloud","words","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","place","board","dt","cloudCollide","sprite","sw","lx","msx","contextAndRatio","ch","zeroArray","tags","cloudSprite","hasText","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","imageMask","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","b1","archimedean","rectangular","sign","rawOptions","chartPadding","wordField","wordStyle","placementStrategy","numbers","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","containerSize","resolvePadding","fMax_1","fMin_1","rotationSteps","resolveRotate","perSize","WORD_CLOUD_COLOR_FIELD","rotateRatio","getTextAttrs","WordCloud","rej","HTMLImageElement","onerror","ERROR","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","midpoint","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","XY","X2","_ols2","intercept","rSquared","tricube","updateInterval","quad","quadratic","_points2","X3","X4","X2Y","n0","X2X2","REGRESSION_MAP","exp","YL","XYL","ly","regressionLinear","loess","bandwidth","bw","yhat","residuals","robustWeights","W","denom","xk","xkw","medianResidual","_w","logarithmic","lb","poly","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","regressionQuad","xScaleView","yScaleView","points2Path","transformOptions","isOneX","isOneY","meta_1","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","getMeta","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","getQuadrantDefaultConfig","regressionLine","top_1","defaultStyle_1","pathData","algorithm","reg","BRUSH_FILTER_EVENTS","Scatter","pointOptions","areaOptions","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","TooltipController","RadarTooltipAction","getTooltipController","AxisType","DualAxesGeometry","Radar","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","legendItemName","isGeometry","viewId","attrItems","doSliderFilter","sliderValue","geometryOptions","allLine","createViews","SORT_MAP","column","formatData","FIELD_KEY","adjust_1","drawSingleGeometry","themeColor","groupScale","leftView","rightView","commonInteraction","commonAnnotation","commonTheme","commonAnimation","commonLimitInPlot","leftLegend_1","rightLegend_1","leftItems","rightItems","yF","legendItem_1","DualAxes","Y_FIELD","DEFAULT_TOOLTIP_OPTIONS","getTinyData","lineOptions","seriesData","TinyLine","TinyColumn","TinyArea","getBinKey","binWidth","binNumber","binHistogram","binField","stackField","originData_copy","comparer","keys_1","sortBy","rangeWidth","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","HISTOGRAM_X_FIELD","HISTOGRAM_Y_FIELD","Histogram","DEFAULT_COLOR","getProgressData","clampPercent","progressStyle","Progress","RingProgress","sizeRatio","heatmapStyle","checkedSizeRatio","geometryAdaptor","dautm","maxSideLength","sideLength","BOX_RANGE","OUTLIERS_VIEW_ID","boxStyle","transformData","newData","q1_1","median_1","q3_1","high_1","low_1","yFieldName","outliersPoint","outliersField","outliersStyle","outliersView","outliersViewData","baseMeta","syncName","Box","quickselect","sd","quantile","indices","quantileIndex","stack","quantileSelect","multiQuantileSelect","results","toBoxValue","low","high","q1","q3","minMax","toViolinValue","pdfOptions","pdfResults","violinSize","violinY","transformViolinData","kde","sampleSize","resultList","seriesGroup","series","X_FIELD","VIOLIN_Y_FIELD","VIOLIN_VIEW_ID","violinStyle","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","baseAnnotation","blendObject","screen","overlay","darken","lighten","dodge","burn","colorToArr","rgbaArr","intersectionArea","circles","stats","intersectionPoints","circleCircleIntersection","parentIndex","getIntersectionPoints","innerPoints","containedInCircles","arcArea","polygonArea","arcs","midPoint","angleDiff","circleArea","smallest","disjoint","circleOverlap","distanceFromIntersectArea","bestInitialLayout","areas","loss","lossFunction","setOverlaps","sets","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","greedyLayout","constrained","restarts","setids","matrices","distances","constraints","getDistanceMatrices","norm","xj","yj","dij","squaredDistance","distance_1","constrainedMDSGradient","positions","constrainedMDSLayout","overlaps","circleMargin","interior","exterior","computeTextCentre","solution","valid","areaStats","ID_FIELD","blendMode","getColorMap","colorPalette","setsField","colorMap","colorPaletteLen","colorArr","c0","mode","blendRgbArr","innerBlend","g0","g1","blend","layoutVennData","vennData","initialLayout","ids","pairs","addMissingAreas","setid","setid_1","venn","xRange","yRange","getBoundingBox","xScaling","yScaling","scaling","scaleSolution","textCenters","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","centre","computeTextCentres","setCircles","circlePath","wide","intersectionAreaPath","fillAttrs","getFillAttrs","VennLabel","customLabelInfo","placeElementsOrdered","VennElementActive","syncElementsPos","toggle","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","tempPadding","currSets","filterSets","legalArr","testArr","islegalSets","schemaGeometry","colorOptions","map_1","transformColor","vennInteraction","MAP_1","Venn","TREND_FIELD","TREND_DOWN","defaultContent","risingFill","fallingFill","getStockData","close_1","open_1","stockStyle","Stock","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","minSize","maxYFieldValue","maxBy","conversionTagComponent","getLineCoordinate","lineOption","formatter_1","funnelStyle","baseGeometry","datumIndex","initLineOption","basicFunnel","compareField","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","preItemX","preItemY","dynamicHeight","facetFunnel","compareFunnel","dynamicHeightFunnel","Funnel","FUNNEL_CONVERSATION_FIELD","getLiquidData","liquidStyle","outline","wave","border","lerp","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","curves","_phase","waveRight","builtInShapeByName","pin","cpX","cpY","waveCount","minXPoint","waveAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","addWaterWave","Liquid","getSeriesFieldKey","measureField","rangeField","ds","rangeValues","flat","rKey","measureValues","mKey","targetValues","tKey","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","Bullet","NODE_ANCESTORS_FIELD","INVALID_FIELD_ERR_MSG","getField","defaultField","getAllNodes","index_1","ancestors","depth","eachNode","SUNBURST_ANCESTOR_FIELD","SUNBURST_PATH_FIELD","RAW_FIELDS","hierarchyConfig","sunburstStyle","drilldown","BREAD_CRUMB_NAME","DEFAULT_BREAD_CRUMB_CONFIG","dividerText","activeTextStyle","HIERARCHY_DATA_TRANSFORM_PARAMS","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","PADDING_TOP","historyCache","backTo","hideCrumbGroup","nodeInfo","drillData","nodeData","drillDownConfig","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","partition","eachBefore","treemapDice","positionNode","roundNode","_defineProperty","configurable","writable","_arrayLikeToArray","arr2","_createForOfIteratorHelper","allowArrayLike","it","minLen","F","normalCompletion","didErr","_e2","_typeof","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","doneResult","displayName","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","hierarchy","mapChildren","objectChildren","childs","Node","computeHeight","copyData","eachAfter","that","ancestor","aNodes","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","ignoreParentValue","d3Hierarchy","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","meanX","leafLeft","leafRight","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","a3","b2","b3","d3","ab","xa","xb","ya","yb","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","executeShifts","vip","vop","vom","sip","sop","sim","som","apportion","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","resquarify","_squarify","tileMethod","activeDepth","ancestorNode","polygonAdaptor","pathFormatter","valueFormatter","adaptorInteraction","baseInteraction","isParentNode","inCenter","Sunburst","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","indicator","pointer","getIndicatorData","getRangeData","processRangeData","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","polarCoord","polarCenter","polarMaxY","containerWidth","renderGaugeStatistic","STEP","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","GAP","INTERVAL","START_ANGLE","END_ANGLE","Gauge","indicatorView","rangeView","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","leaderLine","waterfallStyle","processed","newYField","dIdx","localeTotalLabel","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","Waterfall","getScaleMax","maxAngle","yData","formatRadian","actualData","stackedData","valueItem","getStackedData","intervalGeometry","RadialBar","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","data1","data2","__axisPosition","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","BidirectionalBar","findInteraction","enableInteraction","enableDrillInteraction","enableDrillDown","curPath","rectStyle","basePolygon","viewZoomInteraction","Treemap","transData","drillDownInteraction","resetDrillDown","targetDepth","justify","sourceLinks","sumBy","maxValueBy","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","link","targetLinks","ALIGN_METHOD","minItem","minBy","nodeAlign","nodeWidth","nodePadding","nodeSort","sankeyLayout","sankeyLayoutOptions","nodeDepth","sankeyProcessor","linkSort","sankey","computeNodeLinks","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","computeNodeLayers","minValueBy","nodes_6","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","dy_1","reorderNodeLinks","resolveCollisions","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","extent","getNodeAlignFunction","layoutData","cutoffCircle","edges","removedData","getNodes","graphMatrix","visited","DFS","dfsNode","getNodeWidthRatio","nodeWidthRatio","getNodePaddingRatio","nodePaddingRatio","transformToViewsData","sankeyLayoutInputData","dataType","isNodeLink","isNode","COLOR_FIELD","NODES_VIEW_ID","EDGES_VIEW_ID","nodeStyle","edgeStyle","nodeState","edgeState","edgeView","nodeView","nodeDraggable","DRAG_INTERACTION","nodeInteractions","edgeInteractions","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","isDragging","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","Sankey","isLast","nodesView","edgesView","sourceWeight","targetWeight","chordLayoutOptions","chordLayoutInputData","forIn","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","outputNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","outputLinks","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","chordLayout","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","getAllGeometriesRecursively","Chord","packLayout","resolvePaddingForCircle","wSize","hSize","restWidthPadding","restHeightPadding","finalSize","diameter","tempAppendPadding","circleSize","nameFormatter","CirclePacking","PLOT_ADAPTORS","lineAdaptor","pie","pieAdaptor","bar","barAdaptor","areaAdaptor","gauge","gaugeAdaptor","tinyLineAdaptor","tinyColumnAdaptor","tinyAreaAdaptor","ringProgressAdaptor","progress","progressAdaptor","scatter","scatterAdaptor","histogram","histogramAdaptor","funnelAdaptor","stock","stockAdaptor","PLOT_CONSTRUCTOR","DEFAULT_OPTIONS_MAP","execPlotAdaptor","plot","multiView","viewOfG2","multiPlot","plots","Association","linkField","data_1","getAssociationItems","Mix","facetAdaptor","facetType","restFacetCfg","viewOptions","execViewAdaptor","plotOptions","Stage","STABLE","DEV","BETA","general","increase","decrease","waterfall","adaptors","ownKeys","enumerableOnly","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","getOwnPropertyDescriptors","defineProperties","createRoot","fullClone","reactRender","unmountComponentAtNode","toggleWarning","skip","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","usingClientEntryPoint","MARK","mountPoint","modernRender","legacyRender","deepClone","hasPath","useInit","ChartClass","useRef","chartOptions","onReady","onEvent","reactDomToString","statisticCustomHtml","setPath","statisticDom","createNode","processConfig","useEffect","currentConfig","inputConfig","currentKeys","chartInstance","encoderOptions","downloadImage","imageName","base64","href","download","getChart","chartRef","_classCallCheck","Constructor","_defineProperties","descriptor","_setPrototypeOf","_getPrototypeOf","_possibleConstructorReturn","ReferenceError","ErrorBoundary","subClass","superClass","protoProps","staticProps","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","Super","NewTarget","hasError","renderError","errorTemplate","message","nextProps","Fragment","React","SVG","backgroundOpacity","baseUrl","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","rtl","speed","fixedId","idClip","idGradient","idAria","rtlStyle","keyTimes","dur","React.createElement","role","stopColor","stopOpacity","repeatCount","defaultProps","ContentLoader","Svg","Facebook","ReactContentLoaderFacebook","viewBox","loadingTemplate","AreaChart","forwardRef","ref","loading","useChart","G2plotArea","useImperativeHandle","BarChart","G2plotBar","BulletChart","G2plotBullet","ColumnChart","G2plotColumn","FunnelChart","G2plotFunnel","HistogramChart","G2plotHistogram","LineChart","G2plotLine","BoxChart","G2plotBox","LiquidChart","G2plotLiquid","HeatmapChart","G2plotHeatmap","PieChart","G2plotPie","GaugeChart","G2plotGauge","ProgressChart","G2plotProgress","RadarChart","G2plotRadar","RingProgressChart","G2plotRingProgress","RoseChart","G2plotRose","ChordChart","G2plotChord","ScatterChart","G2plotScatter","TinyAreaChart","G2plotTinyArea","TinyColumnChart","G2plotTinyColumn","DualAxesChart","G2plotDualAxes","TinyLineChart","G2plotTinyLine","WaterfallChart","G2plotWaterfall","WordCloudChart","G2plotWordCloud","SunburstChart","G2plotSunburst","StockChart","G2plotStock","RadialBarChart","G2plotRadialBar","SankeyChart","G2plotSankey","TreemapChart","G2plotTreemap","ViolinChart","G2plotViolin","VennChart","G2plotVenn","CirclePackingChart","G2plotCirclePacking","FacetChart","G2plotFacet","MultiViewChart","G2plotMix","chartType","BidirectionalBarChart","G2plotBidirectionalBar","MultiView","G2"],"sourceRoot":""}