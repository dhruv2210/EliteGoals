"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = IconSwitch;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _makeStyle = _interopRequireDefault(require("./utils/makeStyle"));

var _excluded = ["className", "style", "leftIcon", "rightIcon", "leftChecked", "transparent", "onChange"];
var useStyle = (0, _makeStyle.default)('IconSwitch', function () {
  var activeBackground = '#314659';
  return {
    '.theme-editor-icon-switch': {
      display: 'inline-block',
      '.holder': {
        position: 'relative',
        display: 'inline-flex',
        background: '#ebedf0',
        borderRadius: '100vw',
        cursor: 'pointer',
        transition: 'all 0.3s',
        '&::before': {
          position: 'absolute',
          top: 0,
          left: 'calc(100% - 32px)',
          width: 32,
          height: 32,
          background: activeBackground,
          borderRadius: '100vw',
          transition: 'all 0.3s',
          content: '""'
        },
        '&.leftChecked::before': {
          left: 0
        },
        '&:hover': {
          boxShadow: '0 0 3px fade(@active-background, 40%)'
        }
      },
      '.icon': {
        position: 'relative',
        width: 32,
        height: 32,
        color: '#a3b1bf',
        lineHeight: '32px',
        textAlign: 'center',
        transition: 'all 0.3s',
        fontSize: 16,
        '.anticon': {
          fontSize: 14
        },
        '&:first-child': {
          marginInlineEnd: -4
        },
        '&.active': {
          color: '#fff'
        }
      }
    }
  };
});

function IconSwitch(_ref) {
  var className = _ref.className,
      style = _ref.style,
      leftIcon = _ref.leftIcon,
      rightIcon = _ref.rightIcon,
      leftChecked = _ref.leftChecked,
      transparent = _ref.transparent,
      onChange = _ref.onChange,
      props = (0, _objectWithoutProperties2.default)(_ref, _excluded);

  var _useStyle = useStyle(),
      _useStyle2 = (0, _slicedToArray2.default)(_useStyle, 2),
      wrapSSR = _useStyle2[0],
      hashId = _useStyle2[1];

  return wrapSSR( /*#__PURE__*/_react.default.createElement("div", (0, _extends2.default)({
    className: (0, _classnames.default)('theme-editor-icon-switch', className, hashId),
    style: style
  }, props), /*#__PURE__*/_react.default.createElement("div", {
    className: (0, _classnames.default)('holder', leftChecked && 'leftChecked'),
    onClick: function onClick() {
      onChange === null || onChange === void 0 ? void 0 : onChange(!leftChecked);
    }
  }, /*#__PURE__*/_react.default.createElement("span", {
    className: (0, _classnames.default)('icon', leftChecked && 'active')
  }, leftIcon), /*#__PURE__*/_react.default.createElement("span", {
    className: (0, _classnames.default)('icon', !leftChecked && 'active')
  }, rightIcon))));
}