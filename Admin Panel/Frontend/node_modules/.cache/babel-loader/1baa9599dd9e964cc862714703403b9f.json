{"ast":null,"code":"import { __extends } from \"tslib\";\nimport { each, some } from '@antv/util';\nimport ListState from './list-state';\nvar STATUS_UNCHECKED = 'unchecked';\nvar STATUS_CHECKED = 'checked';\n/**\n * checked Action\n * æä¾›ä¸‰ä¸ªå¯¹å¤–æ–¹æ³•\n * 1. toggle åˆ‡æ¢çŠ¶æ€\n * 2. checked é€‰ä¸­\n * 3. reset æ¸…é™¤é‡ç½®\n */\nvar ListChecked = /** @class */function (_super) {\n  __extends(ListChecked, _super);\n  function ListChecked() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.stateName = STATUS_CHECKED;\n    return _this;\n  }\n  // å•ä¸ª item è®¾ç½®çŠ¶æ€\n  ListChecked.prototype.setItemState = function (list, item, enable) {\n    this.setCheckedBy(list, function (el) {\n      return el === item;\n    }, enable);\n  };\n  // æ ¹æ®æ¡ä»¶è®¾ç½® checked\n  ListChecked.prototype.setCheckedBy = function (list, callback, enable) {\n    var items = list.getItems();\n    if (enable) {\n      // è®¾ç½® checked æ—¶ï¼Œä¿ç•™ä¹‹å‰å·²ç» checked çš„é¡¹\n      each(items, function (item) {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  };\n  /**\n   * åˆ‡æ¢çŠ¶æ€.\n   * 1. å½“å…¨éƒ¨é€‰ä¸­çš„æ—¶å€™ æˆ–è€… å½“å‰ item æœªé€‰ä¸­æ—¶ï¼Œè¿›è¡Œæ¿€æ´»æ“ä½œ\n   * 2. å¦åˆ™ï¼Œé‡ç½®\n   * @override\n   */\n  ListChecked.prototype.toggle = function () {\n    var triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      var list_1 = triggerInfo.list,\n        item = triggerInfo.item;\n      // ä¸çŸ¥é“ ğŸ¤·â€â™€ï¸ åªè®¤ unchecked status\n      var allChecked = !some(list_1.getItems(), function (t) {\n        return list_1.hasState(t, STATUS_UNCHECKED);\n      });\n      //\n      if (allChecked || list_1.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list_1, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  };\n  /**\n   * checked å›¾ä¾‹é¡¹\n   */\n  ListChecked.prototype.checked = function () {\n    this.setState();\n  };\n  /**\n   * é‡ç½®ï¼Œéœ€è¦å…¨éƒ¨æ¸…ç† checked å’Œ unchecked\n   */\n  ListChecked.prototype.reset = function () {\n    var components = this.getAllowComponents();\n    each(components, function (component) {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  };\n  return ListChecked;\n}(ListState);\nexport default ListChecked;","map":null,"metadata":{},"sourceType":"module"}