{"ast":null,"code":"import { registerInteraction } from '@antv/g2';\nvar INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__'\n};\nvar getStartStages = function getStartStages(trigger, style) {\n  if (trigger === 'hover') {\n    return [{\n      trigger: \"interval:mouseenter\",\n      action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n      arg: [null, {\n        style: style\n      }]\n    }];\n  }\n  return [{\n    trigger: \"interval:click\",\n    action: ['element-highlight-by-color:clear', 'element-highlight-by-color:highlight', 'element-link-by-color:clear', 'element-link-by-color:unlink', 'element-link-by-color:link'],\n    arg: [null, null, null, null, {\n      style: style\n    }]\n  }];\n};\n/** hover 触发的连通区域交互 */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [{\n    trigger: 'interval:mouseleave',\n    action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink']\n  }]\n});\n/** click 触发的联通区域交互 */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [{\n    trigger: 'document:mousedown',\n    action: ['element-highlight-by-color:clear', 'element-link-by-color:clear']\n  }]\n});\n/**\n * 返回支持联通区域组件交互的 adaptor，适用于堆叠柱形图/堆叠条形图\n * @param disable\n */\nexport function connectedArea(disable) {\n  if (disable === void 0) {\n    disable = false;\n  }\n  return function (params) {\n    var chart = params.chart,\n      options = params.options;\n    var connectedArea = options.connectedArea;\n    var clear = function clear() {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n    if (!disable && connectedArea) {\n      var trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style)\n      });\n    } else {\n      clear();\n    }\n    return params;\n  };\n}","map":null,"metadata":{},"sourceType":"module"}