{"ast":null,"code":"import { __spreadArrays } from \"tslib\";\nimport { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n/**\n * 计算文本在画布中的宽度\n * @param text 文本\n * @param font 字体\n */\nexport var measureTextWidth = memoize(function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n  var fontSize = font.fontSize,\n    _a = font.fontFamily,\n    fontFamily = _a === void 0 ? 'sans-serif' : _a,\n    fontWeight = font.fontWeight,\n    fontStyle = font.fontStyle,\n    fontVariant = font.fontVariant;\n  var ctx = getCanvasContext();\n  // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n  ctx.font = [fontStyle, fontWeight, fontVariant, fontSize + \"px\", fontFamily].join(' ');\n  var metrics = ctx.measureText(isString(text) ? text : '');\n  return metrics.width;\n}, function (text, font) {\n  if (font === void 0) {\n    font = {};\n  }\n  return __spreadArrays([text], values(font)).join('');\n});","map":null,"metadata":{},"sourceType":"module"}