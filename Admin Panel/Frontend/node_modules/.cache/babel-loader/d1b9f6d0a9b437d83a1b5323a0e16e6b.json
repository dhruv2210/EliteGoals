{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport GroupComponent from '../abstract/group-component';\nimport { getCirclePoint } from '../util/util';\nvar ArcAnnotation = /** @class */function (_super) {\n  __extends(ArcAnnotation, _super);\n  function ArcAnnotation() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * @protected\n   * 默认的配置项\n   * @returns {object} 默认的配置项\n   */\n  ArcAnnotation.prototype.getDefaultCfg = function () {\n    var cfg = _super.prototype.getDefaultCfg.call(this);\n    return __assign(__assign({}, cfg), {\n      name: 'annotation',\n      type: 'arc',\n      locationType: 'circle',\n      center: null,\n      radius: 100,\n      startAngle: -Math.PI / 2,\n      endAngle: Math.PI * 3 / 2,\n      style: {\n        stroke: '#999',\n        lineWidth: 1\n      }\n    });\n  };\n  ArcAnnotation.prototype.renderInner = function (group) {\n    this.renderArc(group);\n  };\n  ArcAnnotation.prototype.getArcPath = function () {\n    var _a = this.getLocation(),\n      center = _a.center,\n      radius = _a.radius,\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle;\n    var startPoint = getCirclePoint(center, radius, startAngle);\n    var endPoint = getCirclePoint(center, radius, endAngle);\n    var largeFlag = endAngle - startAngle > Math.PI ? 1 : 0;\n    var path = [['M', startPoint.x, startPoint.y]];\n    if (endAngle - startAngle === Math.PI * 2) {\n      // 整个圆是分割成两个圆\n      var middlePoint = getCirclePoint(center, radius, startAngle + Math.PI);\n      path.push(['A', radius, radius, 0, largeFlag, 1, middlePoint.x, middlePoint.y]);\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    } else {\n      path.push(['A', radius, radius, 0, largeFlag, 1, endPoint.x, endPoint.y]);\n    }\n    return path;\n  };\n  // 绘制 arc\n  ArcAnnotation.prototype.renderArc = function (group) {\n    // 也可以 通过 get('center') 类似的方式逐个获取\n    var path = this.getArcPath();\n    var style = this.get('style');\n    this.addShape(group, {\n      type: 'path',\n      id: this.getElementId('arc'),\n      name: 'annotation-arc',\n      attrs: __assign({\n        path: path\n      }, style)\n    });\n  };\n  return ArcAnnotation;\n}(GroupComponent);\nexport default ArcAnnotation;","map":null,"metadata":{},"sourceType":"module"}