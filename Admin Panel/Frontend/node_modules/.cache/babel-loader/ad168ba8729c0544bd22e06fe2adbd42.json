{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { line, point } from '../../../adaptor/geometries';\nimport { deepAssign, pick } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { isColumn, isLine } from './option';\n/**\n * 绘制单个图形\n * @param params\n */\nexport function drawSingleGeometry(params) {\n  var options = params.options,\n    chart = params.chart;\n  var geometryOption = options.geometryOption;\n  var isStack = geometryOption.isStack,\n    color = geometryOption.color,\n    seriesField = geometryOption.seriesField,\n    groupField = geometryOption.groupField,\n    isGroup = geometryOption.isGroup;\n  var FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // 绘制线\n    line(deepAssign({}, params, {\n      options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), geometryOption), {\n        line: {\n          color: geometryOption.color,\n          style: geometryOption.lineStyle\n        }\n      })\n    }));\n    // 绘制点\n    point(deepAssign({}, params, {\n      options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), geometryOption), {\n        point: geometryOption.point && __assign({\n          color: color,\n          shape: 'circle'\n        }, geometryOption.point)\n      })\n    }));\n    // adjust\n    var adjust_1 = [];\n    if (isGroup) {\n      adjust_1.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0\n      });\n    }\n    if (isStack) {\n      adjust_1.push({\n        type: 'stack'\n      });\n    }\n    if (adjust_1.length) {\n      each(chart.geometries, function (g) {\n        g.adjust(adjust_1);\n      });\n    }\n  }\n  if (isColumn(geometryOption)) {\n    columnAdaptor(deepAssign({}, params, {\n      options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), geometryOption), {\n        widthRatio: geometryOption.columnWidthRatio,\n        interval: __assign(__assign({}, pick(geometryOption, ['color'])), {\n          style: geometryOption.columnStyle\n        })\n      })\n    }));\n  }\n  return params;\n}","map":null,"metadata":{},"sourceType":"module"}